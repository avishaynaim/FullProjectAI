import{b as f,c as P}from"./chunk-VXZPXBXW.js";import{a as j}from"./chunk-34YXVSCO.js";import{a as p}from"./chunk-TCOEHMSY.js";import{E as n,F as o,Z as i,ba as c,ga as s,re as h,s as l}from"./chunk-R5Z5HX2T.js";var a=class t{constructor(e){this.http=e;console.log("ProjectService initialized with apiUrl:",this.apiUrl)}apiUrl=`${j.apiUrl}/api/projects`;getProjects(){return console.log(`ProjectService: Making GET request to ${this.apiUrl}`),this.http.get(this.apiUrl).pipe(i(e=>console.log("ProjectService: Received response",e)),o(this.handleError))}getProject(e){return console.log(`ProjectService: Making GET request to ${this.apiUrl}/${e}`),this.http.get(`${this.apiUrl}/${e}`).pipe(i(r=>console.log(`ProjectService: Received project ${e}`,r)),o(this.handleError))}createProject(e){return console.log(`ProjectService: Making POST request to ${this.apiUrl}`,e),this.http.post(this.apiUrl,e).pipe(i(r=>console.log("ProjectService: Project created",r)),o(this.handleError))}updateProject(e){return console.log(`ProjectService: Making PUT request to ${this.apiUrl}/${e.id}`,e),this.http.put(`${this.apiUrl}/${e.id}`,e).pipe(i(()=>console.log(`ProjectService: Project ${e.id} updated`)),o(this.handleError))}deleteProject(e){return console.log(`ProjectService: Making DELETE request to ${this.apiUrl}/${e}`),this.http.delete(`${this.apiUrl}/${e}`).pipe(i(()=>console.log(`ProjectService: Project ${e} deleted`)),o(this.handleError))}searchProjects(e){return console.log(`ProjectService: Making GET request to ${this.apiUrl}/search?term=${e}`),this.http.get(`${this.apiUrl}/search?term=${e}`).pipe(i(r=>console.log("ProjectService: Search results",r)),o(this.handleError))}handleError(e){let r="";return e.error instanceof ErrorEvent?r=`Client-side error: ${e.error.message}`:(r=`Server error: ${e.status}, message: ${e.message}`,e.error&&(r+=`, details: ${JSON.stringify(e.error)}`)),console.error(r),l(()=>new Error(r))}static \u0275fac=function(r){return new(r||t)(s(p))};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})};var v=class t{constructor(e,r){this.store=e;this.projectService=r;console.log("ManualEffectsService initialized"),this.setupEffects()}setupEffects(){this.store.pipe(n(e=>e.type==="[Project] Load Projects")).subscribe(e=>{console.log("Manual effect caught loadProjects action",e),this.projectService.getProjects().subscribe({next:r=>{console.log("Manual effect: projects loaded successfully",r),this.store.dispatch(f({projects:r}))},error:r=>{console.error("Manual effect: error loading projects",r),this.store.dispatch(P({error:r}))}})})}static \u0275fac=function(r){return new(r||t)(s(h),s(a))};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})};export{a,v as b};
