import{a as ri}from"./chunk-3P3N7XUG.js";import{L as ai,O as si,R as ci,b as Mt}from"./chunk-YQKW46AH.js";import{c as ti}from"./chunk-BU6SQDD4.js";import{d as li,v as ni}from"./chunk-4XK3NOYE.js";import{a as ii,b as oi}from"./chunk-PAQCF4BX.js";import"./chunk-34YXVSCO.js";import{a as ei}from"./chunk-USUIGE5E.js";import{a as Qe,b as Ue,d as qe,e as It,f as xt,g as Et,h as kt,i as Wt,k as Gt,l as Xt,n as Jt,o as Zt,p as Yt}from"./chunk-UUDG3MVM.js";import{a as zt,b as Lt}from"./chunk-UFUJZYWO.js";import{b as je,h as Xe}from"./chunk-NF2OMPWN.js";import{C as St,h as ht,j as mt,k as gt,m as ft}from"./chunk-OHV4FBSO.js";import{b as Pt,c as Ot,e as Bt,f as Ht,i as Kt,j as $t,m as At,o as Qt,p as Se,q as Ut,r as jt,s as qt}from"./chunk-Z3YPYHBP.js";import"./chunk-TCOEHMSY.js";import{a as Nt,b as Vt}from"./chunk-7I5IRPV2.js";import{$c as z,$d as Dt,Aa as it,Ab as f,Ac as ne,Cc as ut,Db as b,Dc as Y,Dd as wt,Eb as M,Fa as ot,Fb as m,Fc as ye,Gb as g,Gd as Te,Hb as ze,Ib as _,Jb as P,Jc as Ne,Jd as Ct,Kb as at,Kc as Ve,Kd as we,Mb as me,Mc as Pe,Nb as ge,Ob as fe,Od as ee,Pa as s,Pb as be,Pd as $e,Qb as X,Rb as k,Sb as $,Sd as vt,Ta as lt,Ua as x,Ub as st,Ud as Ae,Wb as ct,Wc as bt,Wd as We,Xc as Oe,Xd as Ge,Y as oe,Za as O,Zb as Le,_a as nt,_b as Fe,_c as _t,a as V,ac as _e,ae as Ce,b as ie,ba as ke,bb as De,ca as tt,cb as u,ce as ve,ec as dt,fd as yt,gc as S,gd as Tt,ha as le,hc as A,hd as Be,ib as ue,jb as a,jd as re,k as K,kb as rt,mb as q,na as de,nb as he,oa as U,pa as j,ra as Me,re as Ft,sb as c,tb as p,td as He,ub as v,ue as Q,vb as W,ve as Rt,wa as C,wb as G,wc as J,wd as L,xa as pe,xb as T,xc as pt,xd as Ke,yb as Z,yc as B,zb as E,zc as Re}from"./chunk-R5Z5HX2T.js";var wi=["colgroup"],Ci=["caption"],vi=["header"],Si=["body"],Ii=["footer"],xi=["summary"],Ei=["emptymessage"],ki=["paginatorleft"],Mi=["paginatorright"],Di=["paginatordropdownitem"],zi=["frozenheader"],Li=["frozenbody"],Fi=["frozenfooter"],Ri=["frozencolgroup"],Ni=["loadingicon"],Vi=["reorderindicatorupicon"],Pi=["reorderindicatordownicon"],Oi=["sorticon"],Bi=["checkboxicon"],Hi=["headercheckboxicon"],Ki=["togglericon"],$i=["paginatorfirstpagelinkicon"],Ai=["paginatorlastpagelinkicon"],Qi=["paginatorpreviouspagelinkicon"],Ui=["paginatornextpagelinkicon"],ji=["loader"],qi=["container"],Wi=["resizeHelper"],Gi=["reorderIndicatorUp"],Xi=["reorderIndicatorDown"],Ji=["table"],Zi=["scrollableView"],Yi=["scrollableFrozenView"],eo=(t,n,e,o,i,l)=>({"p-treetable p-component":!0,"p-treetable-gridlines":t,"p-treetable-hoverable-rows":n,"p-treetable-auto-layout":e,"p-treetable-resizable":o,"p-treetable-resizable-fit":i,"p-treetable-flex-scrollable":l}),H=t=>({$implicit:t}),to=(t,n)=>({left:t,width:n}),io=t=>({width:t});function oo(t,n){if(t&1&&v(0,"i"),t&2){let e=f(2);he("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function lo(t,n){t&1&&v(0,"SpinnerIcon",24),t&2&&a("spin",!0)("styleClass","p-treetable-loading-icon")}function no(t,n){}function ro(t,n){t&1&&u(0,no,0,0,"ng-template")}function ao(t,n){if(t&1&&(c(0,"span",25),u(1,ro,1,0,null,26),p()),t&2){let e=f(3);s(),a("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function so(t,n){if(t&1&&(W(0),u(1,lo,1,2,"SpinnerIcon",22)(2,ao,2,1,"span",23),G()),t&2){let e=f(2);s(),a("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),s(),a("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function co(t,n){if(t&1&&(c(0,"div",18)(1,"div",19),u(2,oo,1,2,"i",20)(3,so,3,2,"ng-container",21),p()()),t&2){let e=f();s(2),a("ngIf",e.loadingIcon),s(),a("ngIf",!e.loadingIcon)}}function po(t,n){t&1&&T(0)}function uo(t,n){if(t&1&&(c(0,"div",27),u(1,po,1,0,"ng-container",26),p()),t&2){let e=f();s(),a("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function ho(t,n){t&1&&T(0)}function mo(t,n){if(t&1&&u(0,ho,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function go(t,n){t&1&&u(0,mo,1,1,"ng-template",29)}function fo(t,n){t&1&&T(0)}function bo(t,n){if(t&1&&u(0,fo,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function _o(t,n){t&1&&u(0,bo,1,1,"ng-template",30)}function yo(t,n){t&1&&T(0)}function To(t,n){if(t&1&&u(0,yo,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function wo(t,n){t&1&&u(0,To,1,1,"ng-template",31)}function Co(t,n){t&1&&T(0)}function vo(t,n){if(t&1&&u(0,Co,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function So(t,n){t&1&&u(0,vo,1,1,"ng-template",32)}function Io(t,n){if(t&1){let e=Z();c(0,"p-paginator",28),E("onPageChange",function(i){U(e);let l=f();return j(l.onPageChange(i))}),u(1,go,1,0,null,21)(2,_o,1,0,null,21)(3,wo,1,0,null,21)(4,So,1,0,null,21),p()}if(t&2){let e,o,i,l=f();a("rows",l.rows)("first",l.first)("totalRecords",l.totalRecords)("pageLinkSize",l.pageLinks)("alwaysShow",l.alwaysShowPaginator)("rowsPerPageOptions",l.rowsPerPageOptions)("templateLeft",(e=l.paginatorLeftTemplate)!==null&&e!==void 0?e:l._paginatorLeftTemplate)("templateRight",(o=l.paginatorRightTemplate)!==null&&o!==void 0?o:l._paginatorRightTemplate)("dropdownAppendTo",l.paginatorDropdownAppendTo)("currentPageReportTemplate",l.currentPageReportTemplate)("showFirstLastIcon",l.showFirstLastIcon)("dropdownItemTemplate",(i=l.paginatorDropdownItemTemplate)!==null&&i!==void 0?i:l._paginatorDropdownItemTemplate)("showCurrentPageReport",l.showCurrentPageReport)("showJumpToPageDropdown",l.showJumpToPageDropdown)("showPageLinks",l.showPageLinks)("styleClass",l.paginatorStyleClass)("locale",l.paginatorLocale),s(),a("ngIf",l.paginatorFirstPageLinkIconTemplate||l._paginatorFirstPageLinkIconTemplate),s(),a("ngIf",l.paginatorPreviousPageLinkIconTemplate||l._paginatorPreviousPageLinkIconTemplate),s(),a("ngIf",l.paginatorLastPageLinkIconTemplate||l._paginatorLastPageLinkIconTemplate),s(),a("ngIf",l.paginatorNextPageLinkIconTemplate||l._paginatorNextPageLinkIconTemplate)}}function xo(t,n){t&1&&T(0)}function Eo(t,n){t&1&&T(0)}function ko(t,n){t&1&&T(0)}function Mo(t,n){if(t&1&&(c(0,"div",33)(1,"table",34,1),u(3,xo,1,0,"ng-container",35),c(4,"thead",36),u(5,Eo,1,0,"ng-container",35),p(),v(6,"tbody",37),c(7,"tfoot",38),u(8,ko,1,0,"ng-container",35),p()()()),t&2){let e,o=f();s(),a("ngClass",o.tableStyleClass)("ngStyle",o.tableStyle),s(2),a("ngTemplateOutlet",o.colGroupTemplate||o._colGroupTemplate)("ngTemplateOutletContext",k(10,H,o.columns)),s(2),a("ngTemplateOutlet",o.headerTemplate||o._headerTemplate)("ngTemplateOutletContext",k(12,H,o.columns)),s(),a("pTreeTableBody",o.columns)("pTreeTableBodyTemplate",(e=o.bodyTemplate)!==null&&e!==void 0?e:o._bodyTemplate),s(2),a("ngTemplateOutlet",o.footerTemplate||o._footerTemplate)("ngTemplateOutletContext",k(14,H,o.columns))}}function Do(t,n){if(t&1&&v(0,"div",42,3),t&2){let e=f(2);a("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",k(4,io,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function zo(t,n){if(t&1&&(c(0,"div",39),u(1,Do,2,6,"div",40),v(2,"div",41,2),p()),t&2){let e=f();s(),a("ngIf",e.frozenColumns||e.frozenBodyTemplate||e._frozenBodyTemplate),s(),a("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",$(5,to,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function Lo(t,n){t&1&&T(0)}function Fo(t,n){if(t&1&&u(0,Lo,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function Ro(t,n){t&1&&u(0,Fo,1,1,"ng-template",29)}function No(t,n){t&1&&T(0)}function Vo(t,n){if(t&1&&u(0,No,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function Po(t,n){t&1&&u(0,Vo,1,1,"ng-template",30)}function Oo(t,n){t&1&&T(0)}function Bo(t,n){if(t&1&&u(0,Oo,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function Ho(t,n){t&1&&u(0,Bo,1,1,"ng-template",31)}function Ko(t,n){t&1&&T(0)}function $o(t,n){if(t&1&&u(0,Ko,1,0,"ng-container",26),t&2){let e=f(3);a("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Ao(t,n){t&1&&u(0,$o,1,1,"ng-template",32)}function Qo(t,n){if(t&1){let e=Z();c(0,"p-paginator",43),E("onPageChange",function(i){U(e);let l=f();return j(l.onPageChange(i))}),u(1,Ro,1,0,null,21)(2,Po,1,0,null,21)(3,Ho,1,0,null,21)(4,Ao,1,0,null,21),p()}if(t&2){let e,o,i,l=f();a("rows",l.rows)("first",l.first)("totalRecords",l.totalRecords)("pageLinkSize",l.pageLinks)("alwaysShow",l.alwaysShowPaginator)("rowsPerPageOptions",l.rowsPerPageOptions)("templateLeft",(e=l.paginatorLeftTemplate)!==null&&e!==void 0?e:l._paginatorLeftTemplate)("templateRight",(o=l.paginatorRightTemplate)!==null&&o!==void 0?o:l._paginatorRightTemplate)("dropdownAppendTo",l.paginatorDropdownAppendTo)("currentPageReportTemplate",l.currentPageReportTemplate)("showFirstLastIcon",l.showFirstLastIcon)("dropdownItemTemplate",(i=l.paginatorDropdownItemTemplate)!==null&&i!==void 0?i:l._paginatorDropdownItemTemplate)("showCurrentPageReport",l.showCurrentPageReport)("showJumpToPageDropdown",l.showJumpToPageDropdown)("showPageLinks",l.showPageLinks)("styleClass",l.paginatorStyleClass)("locale",l.paginatorLocale),s(),a("ngIf",l.paginatorFirstPageLinkIconTemplate||l._paginatorFirstPageLinkIconTemplate),s(),a("ngIf",l.paginatorPreviousPageLinkIconTemplate||l._paginatorPreviousPageLinkIconTemplate),s(),a("ngIf",l.paginatorLastPageLinkIconTemplate||l._paginatorLastPageLinkIconTemplate),s(),a("ngIf",l.paginatorNextPageLinkIconTemplate||l._paginatorNextPageLinkIconTemplate)}}function Uo(t,n){t&1&&T(0)}function jo(t,n){if(t&1&&(c(0,"div",44),u(1,Uo,1,0,"ng-container",26),p()),t&2){let e=f();s(),a("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function qo(t,n){t&1&&v(0,"div",45,4)}function Wo(t,n){t&1&&v(0,"ArrowDownIcon")}function Go(t,n){}function Xo(t,n){t&1&&u(0,Go,0,0,"ng-template")}function Jo(t,n){if(t&1&&(c(0,"span",46,5),u(2,Wo,1,0,"ArrowDownIcon",21)(3,Xo,1,0,null,26),p()),t&2){let e=f();s(2),a("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),s(),a("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function Zo(t,n){t&1&&v(0,"ArrowUpIcon")}function Yo(t,n){}function el(t,n){t&1&&u(0,Yo,0,0,"ng-template")}function tl(t,n){if(t&1&&(c(0,"span",47,6),u(2,Zo,1,0,"ArrowUpIcon",21)(3,el,1,0,null,26),p()),t&2){let e=f();s(2),a("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),s(),a("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var il=["pTreeTableBody",""],ol=(t,n,e,o)=>({$implicit:t,node:n,rowData:e,columns:o}),ll=(t,n)=>({$implicit:t,frozen:n});function nl(t,n){t&1&&T(0)}function rl(t,n){if(t&1&&(W(0),u(1,nl,1,0,"ng-container",2),G()),t&2){let e=f().$implicit,o=f();s(),a("ngTemplateOutlet",o.template)("ngTemplateOutletContext",st(2,ol,e,e.node,e.node.data,o.columns))}}function al(t,n){if(t&1&&u(0,rl,2,7,"ng-container",1),t&2){let e=n.$implicit;a("ngIf",e.visible)}}function sl(t,n){t&1&&T(0)}function cl(t,n){if(t&1&&(W(0),u(1,sl,1,0,"ng-container",2),G()),t&2){let e=f();s(),a("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",$(2,ll,e.columns,e.frozen))}}var dl=["scrollHeader"],pl=["scrollHeaderBox"],ul=["scrollBody"],hl=["scrollTable"],ml=["loadingTable"],gl=["scrollFooter"],fl=["scrollFooterBox"],bl=["scrollableAligner"],_l=["scroller"],yl=["ttScrollableView",""],Tl=t=>({height:t}),hi=(t,n)=>({$implicit:t,options:n}),wl=t=>({options:t}),Cl=(t,n)=>({"max-height":t,"overflow-y":n}),vl=()=>({});function Sl(t,n){t&1&&T(0)}function Il(t,n){t&1&&T(0)}function xl(t,n){t&1&&T(0)}function El(t,n){if(t&1&&u(0,xl,1,0,"ng-container",14),t&2){let e=n.$implicit,o=n.options;f(2);let i=ze(11);a("ngTemplateOutlet",i)("ngTemplateOutletContext",$(2,hi,e,o))}}function kl(t,n){t&1&&T(0)}function Ml(t,n){if(t&1&&u(0,kl,1,0,"ng-container",14),t&2){let e=n.options,o=f(3);a("ngTemplateOutlet",o.tt.loaderTemplate||o.tt._loaderTemplate)("ngTemplateOutletContext",k(2,wl,e))}}function Dl(t,n){t&1&&(W(0),u(1,Ml,1,4,"ng-template",null,5,_e),G())}function zl(t,n){if(t&1){let e=Z();c(0,"p-scroller",19,3),E("onLazyLoad",function(i){U(e);let l=f();return j(l.tt.onLazyItemLoad(i))}),u(2,El,1,5,"ng-template",null,4,_e)(4,Dl,3,0,"ng-container",17),p()}if(t&2){let e=f();q(k(8,Tl,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),a("items",e.tt.serializedValue)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),s(4),a("ngIf",e.tt.loaderTemplate||e.tt._loaderTemplate)}}function Ll(t,n){t&1&&T(0)}function Fl(t,n){if(t&1&&(W(0),c(1,"div",20,6),u(3,Ll,1,0,"ng-container",14),p(),G()),t&2){let e=f(),o=ze(11);s(),a("ngStyle",$(3,Cl,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),s(2),a("ngTemplateOutlet",o)("ngTemplateOutletContext",$(7,hi,e.serializedValue,X(6,vl)))}}function Rl(t,n){t&1&&T(0)}function Nl(t,n){t&1&&v(0,"div",24,8)}function Vl(t,n){if(t&1&&(c(0,"table",21,7),u(2,Rl,1,0,"ng-container",14),v(3,"tbody",22),p(),u(4,Nl,2,0,"div",23)),t&2){let e=n.$implicit,o=n.options,i=f();q(o.contentStyle),he(i.tt.tableStyleClass),a("ngClass",o.contentStyleClass)("ngStyle",i.tt.tableStyle),s(2),a("ngTemplateOutlet",i.frozen?i.tt.frozenColGroupTemplate||i.tt._frozenColGroupTemplate||i.tt.colGroupTemplate||i.tt._colGroupTemplate:i.tt.colGroupTemplate||i.tt._colGroupTemplate)("ngTemplateOutletContext",k(13,H,i.columns)),s(),a("pTreeTableBody",i.columns)("pTreeTableBodyTemplate",i.frozen?i.tt.frozenBodyTemplate||i.tt._frozenBodyTemplate||i.tt.bodyTemplate||i.tt._bodyTemplate:i.tt.bodyTemplate||i.tt._bodyTemplate)("serializedNodes",e)("frozen",i.frozen),s(),a("ngIf",i.frozen)}}function Pl(t,n){t&1&&T(0)}function Ol(t,n){t&1&&T(0)}function Bl(t,n){if(t&1&&(c(0,"div",25,9)(2,"div",26,10)(4,"table",27),u(5,Pl,1,0,"ng-container",14),c(6,"tfoot",28),u(7,Ol,1,0,"ng-container",14),p()()()()),t&2){let e=f();s(4),a("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),s(),a("ngTemplateOutlet",e.frozen?e.tt.frozenColGroupTemplate||e.tt._frozenColGroupTemplate||e.tt.colGroupTemplate||e.tt._colGroupTemplate:e.tt.colGroupTemplate||e.tt._colGroupTemplate)("ngTemplateOutletContext",k(6,H,e.columns)),s(2),a("ngTemplateOutlet",e.frozen?e.tt.frozenFooterTemplate||e.tt._frozenFooterTemplate||e.tt.footerTemplate||e.tt._footerTemplate:e.tt.footerTemplate||e.tt._footerTemplate)("ngTemplateOutletContext",k(8,H,e.columns))}}function Hl(t,n){t&1&&v(0,"ChevronDownIcon"),t&2&&ue("aria-hidden",!0)}function Kl(t,n){t&1&&v(0,"ChevronRightIcon"),t&2&&ue("aria-hidden",!0)}function $l(t,n){if(t&1&&(W(0),u(1,Hl,1,1,"ChevronDownIcon",1)(2,Kl,1,1,"ChevronRightIcon",1),G()),t&2){let e=f();s(),a("ngIf",e.rowNode.node.expanded),s(),a("ngIf",!e.rowNode.node.expanded)}}function Al(t,n){}function Ql(t,n){t&1&&u(0,Al,0,0,"ng-template")}var Ul=({dt:t})=>`
/* For PrimeNG */
.p-treetable {
    position: relative;
}

.p-treetable table {
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}

.p-treetable .p-sortable-column .p-column-title,
.p-treetable .p-sortable-column .p-sortable-column-icon,
.p-treetable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-treetable-auto-layout>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-auto-layout>.p-treetable-wrapper>table {
    table-layout: auto;
}

.p-treetable-hoverable-rows .p-treetable-tbody>tr {
    cursor: pointer;
}

.p-treetable-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    overflow: hidden;
    position: relative;
}


/* Scrollable */
.p-treetable-scrollable-wrapper {
    position: relative;
}

.p-treetable-scrollable-header,
.p-treetable-scrollable-footer {
    overflow: hidden;
    flex-shrink: 0;
}

.p-treetable-scrollable-body {
    overflow: auto;
    position: relative;
}

.p-treetable-virtual-table {
    position: absolute;
}

/* Frozen Columns */
.p-treetable-frozen-view .p-treetable-scrollable-body {
    overflow: hidden;
}

.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child {
    border-right: 0 none;
}

.p-treetable-unfrozen-view {
    position: absolute;
    top: 0;
}

/* Flex Scrollable */
.p-treetable-flex-scrollable {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,
.p-treetable-flex-scrollable .p-treetable-scrollable-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body {
    flex: 1;
}

/* Resizable */
.p-treetable-resizable>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-resizable .p-treetable-thead>tr>th,
.p-treetable-resizable .p-treetable-tfoot>tr>td,
.p-treetable-resizable .p-treetable-tbody>tr>td {
    overflow: hidden;
}

.p-treetable-resizable .p-resizable-column {
    background-clip: padding-box;
    position: relative;
}

.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}

.p-treetable .p-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: ${t("treetable.column.resizer.width")};
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-treetable .p-column-resizer-helper {
    width: ${t("treetable.resize.indicator.width")};
    position: absolute;
    z-index: 10;
    display: none;
    background: ${t("treetable.resize.indicator.color")};
}

.p-treetable .p-row-editor-init,
.p-treetable .p-row-editor-save,
.p-treetable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}


/* Reorder */
.p-treetable-reorder-indicator-up,
.p-treetable-reorder-indicator-down {
    position: absolute;
    display: none;
}

[ttReorderableColumn] {
    cursor: move;
}

/* Loader */
.p-treetable-mask {
    position: absolute !important;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-treetable-loading-icon {
    font-size: ${t("treetable.loading.icon.size")};
    width: ${t("treetable.loading.icon.size")};
    height: ${t("treetable.loading.icon.size")};
}

/* Virtual Scroll */
.p-treetable .p-scroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-treetable .p-paginator-top {
    border-color: ${t("treetable.paginator.top.border.color")};
    border-style: solid;
    border-width: ${t("treetable.paginator.top.border.width")};
}

.p-treetable .p-paginator-bottom {
    border-color: ${t("treetable.paginator.bottom.border.color")};
    border-style: solid;
    border-width: ${t("treetable.paginator.bottom.border.width")};
}

.p-treetable .p-treetable-header {
    background: ${t("treetable.header.background")};
    color: ${t("treetable.header.color")};
    border-color: ${t("treetable.header.border.color")};
    border-style: solid;
    border-width: ${t("treetable.header.border.width")};
    padding: ${t("treetable.header.padding")};
    font-weight: ${t("treetable.column.title.font.weight")};
}

.p-treetable .p-treetable-footer {
    background: ${t("treetable.footer.background")};
    color: ${t("treetable.footer.color")};
    border-color: ${t("treetable.footer.border.color")};
    border-style: solid;
    border-width: ${t("treetable.footer.border.width")};
    padding: ${t("treetable.footer.padding")};
    font-weight: ${t("treetable.column.footer.font.weight")};
}

.p-treetable .p-treetable-thead>tr>th {
    padding: ${t("treetable.header.cell.padding")};
    background: ${t("treetable.header.cell.background")};
    border-color: ${t("treetable.header.cell.border.color")};
    border-style: solid;
    border-width: 0 0 1px 0;
    color: ${t("treetable.header.cell.color")};
    font-weight: ${t("treetable.column.title.font.weight")};
    text-align: start;
    transition: background ${t("treetable.transition.duration")}, color ${t("treetable.transition.duration")}, border-color ${t("treetable.transition.duration")},
            outline-color ${t("treetable.transition.duration")}, box-shadow ${t("treetable.transition.duration")};
}

.p-treetable .p-treetable-tfoot>tr>td {
    text-align: start;
    padding: ${t("treetable.footer.cell.padding")};
    border-color: ${t("treetable.footer.cell.border.color")};
    border-style: solid;
    border-width: 0 0 1px 0;
    color: ${t("treetable.footer.cell.color")};
    background: ${t("treetable.footer.cell.background")};
    font-weight: ${t("treetable.column.footer.font.weight")};
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-icon {
    color: ${t("treetable.sort.icon.color")};
    transition: color ${t("treetable.transition.duration")};
}


.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover {
    background: ${t("treetable.header.cell.hover.background")};
    color: ${t("treetable.header.cell.hover.color")};
}

.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover .p-sortable-column-icon {
    color: ${t("treetable.sort.icon.hover.color")};
}

.p-treetable .p-sortable-column.p-treetable-column-sorted {
    background: ${t("treetable.header.cell.selected.background")};
    color: ${t("treetable.header.cell.selected.color")};
}

.p-treetable .p-sortable-column.p-treetable-column-sorted .p-sortable-column-icon {
    color: ${t("treetable.header.cell.selected.color")};
}

.p-treetable .p-sortable-column:focus-visible {
    box-shadow: ${t("treetable.header.cell.focus.ring.shadow")};
    outline: ${t("treetable.header.cell.focus.ring.width")} ${t("treetable.header.cell.focus.ring.style")} ${t("treetable.header.cell.focus.ring.color")};
    outline-offset: ${t("treetable.header.cell.focus.ring.offset")};
}

.p-treetable-hoverable .p-treetable-selectable-row {
    cursor: pointer;
}

.p-treetable .p-treetable-tbody > tr {
    outline-color: transparent;
    background: ${t("treetable.row.background")};
    color: ${t("treetable.row.color")};
    transition: background ${t("treetable.transition.duration")}, color ${t("treetable.transition.duration")}, border-color ${t("treetable.transition.duration")},
            outline-color ${t("treetable.transition.duration")}, box-shadow ${t("treetable.transition.duration")};
}

.p-treetable .p-treetable-tbody>tr>td {
    text-align: start;
    border-color: ${t("treetable.body.cell.border.color")};
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: ${t("treetable.body.cell.padding")};
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: ${t("treetable.node.toggle.button.size")};
    height: ${t("treetable.node.toggle.button.size")};
    color: ${t("treetable.node.toggle.button.color")};
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: ${t("treetable.node.toggle.button.border.radius")};
    transition: background ${t("treetable.transition.duration")}, color ${t("treetable.transition.duration")}, border-color ${t("treetable.transition.duration")},
            outline-color ${t("treetable.transition.duration")}, box-shadow ${t("treetable.transition.duration")};
    outline-color: transparent;
    user-select: none;
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:enabled:hover {
    color: ${t("treetable.node.toggle.button.hover.color")};
    background: ${t("treetable.node.toggle.button.hover.background")};
}

.p-treetable .p-treetable-tbody>tr>tr.treetable-row-selected .p-treetable-toggler:hover {
    background: ${t("treetable.node.toggle.button.selected.hover.background")};
    color: ${t("treetable.node.toggle.button.selected.hover.color")};
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:focus-visible {
    box-shadow: ${t("treetable.node.toggle.button.focus.ring.shadow")};
    outline: ${t("treetable.node.toggle.button.focus.ring.width")} ${t("treetable.node.toggle.button.focus.ring.style")} ${t("treetable.node.toggle.button.focus.ring.color")};
    outline-offset: ${t("treetable.node.toggle.button.focus.ring.offset")};
}


.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected {
    background: ${t("treetable.row.selected.background")};
    color: ${t("treetable.row.selected.color")};
}

.p-treetable-tbody > tr:focus-visible,
.p-treetable-tbody > tr.p-treetable-contextmenu-row-selected {
    box-shadow: ${t("treetable.row.focus.ring.shadow")};
    outline: ${t("treetable.row.focus.ring.width")} ${t("treetable.row.focus.ring.style")} ${t("treetable.row.focus.ring.color")};
    outline-offset: ${t("treetable.row.focus.ring.offset")};
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler {
    color: inherit;
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler:hover {
    background: ${t("treetable.node.toggle.button.selected.hover.background")};
    color: ${t("treetable.node.toggle.button.selected.hover.color")};
}

.p-treetable.p-treetable-hoverable-rows .p-treetable-tbody>tr:not(.p-treetable-row-selected):hover {
    background: ${t("treetable.row.hover.background")};
    color: ${t("treetable.row.hover.color")};
}

.p-treetable.p-treetable-gridlines .p-datatable-header {
    border-width: 1px 1px 0 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-footer {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-top {
    border-width: 0 1px 0 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-bottom {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead>tr>th {
    border-width: 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-tbody>tr>td {
    border-width: 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-tfoot>tr>td {
    border-width: 1px;
}

.p-treetable.p-treetable-sm .p-treetable-header {
    padding: 0.65625rem 0.875rem;
}

.p-treetable.p-treetable-sm .p-treetable-thead>tr>th {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tbody>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tfoot>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-footer {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-lg .p-treetable-header {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-thead>tr>th {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-footer {
    padding: 0.9375rem 1.25rem;
}

p-treetabletoggler + p-treetablecheckbox .p-checkbox {
    vertical-align: middle;
}

p-treetabletoggler + p-treetablecheckbox + span {
    vertical-align: middle;
}
`,jl={root:({instance:t})=>({"p-treetable p-component":!0,"p-treetable-hoverable":t.rowHover||t.selectionMode,"p-treetable-resizable":t.resizableColumns,"p-treetable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-treetable-scrollable":t.scrollable,"p-treetable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex","p-treetable-gridlines":t.showGridlines,"p-treetable-sm":t.size==="small","p-treetable-lg":t.size==="large"}),loading:"p-treetable-loading",mask:"p-treetable-mask p-overlay-mask",loadingIcon:"p-treetable-loading-icon",header:"p-treetable-header",paginator:({instance:t})=>"p-treetable-paginator-"+t.paginatorPosition,tableContainer:"p-treetable-table-container",table:({instance:t})=>({"p-treetable-table":!0,"p-treetable-scrollable-table":t.scrollable,"p-treetable-resizable-table":t.resizableColumns,"p-treetable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}),thead:"p-treetable-thead",headerCell:({instance:t})=>({"p-treetable-header-cell":!0,"p-treetable-sortable-column":t.sortable,"p-treetable-resizable-column":t.resizableColumns,"p-treetable-column-sorted":t?.sorted,"p-treetable-frozen-column":t.columnProp("frozen")}),columnResizer:"p-treetable-column-resizer",columnHeaderContent:"p-treetable-column-header-content",columnTitle:"p-treetable-column-title",sortIcon:"p-treetable-sort-icon",pcSortBadge:"p-treetable-sort-badge",tbody:"p-treetable-tbody",row:({instance:t})=>({"p-treetable-row-selected":t.selected}),bodyCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),bodyCellContent:({instance:t})=>({"p-treetable-body-cell-content":!0,"p-treetable-body-cell-content-expander":t.columnProp("expander")}),toggler:"p-treetable-body-cell-content-expander",nodeToggleButton:"p-treetable-node-toggle-button",nodeToggleIcon:"p-treetable-node-toggle-icon",pcNodeCheckbox:"p-treetable-node-checkbox",emptyMessage:"p-treetable-empty-message",tfoot:"p-treetable-tfoot",footerCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),footer:"p-treetable-footer",columnResizeIndicator:"p-treetable-column-resize-indicator"},ql={tableContainer:{overflow:"auto"},thead:{position:"sticky"},tfoot:{position:"sticky"}},di=(()=>{class t extends vt{name="treetable";theme=Ul;classes=jl;inlineStyles=ql;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Me(t)))(i||t)}})();static \u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();var Je=(()=>{class t{sortSource=new K;selectionSource=new K;contextMenuSource=new K;uiUpdateSource=new K;totalRecordsSource=new K;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=ke({token:t,factory:t.\u0275fac})}return t})(),ae=(()=>{class t extends Ae{_componentStyle=le(di);columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,o)=>o;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.log("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}showGridlines=!1;selectionChange=new C;contextMenuSelectionChange=new C;onFilter=new C;onNodeExpand=new C;onNodeCollapse=new C;onPage=new C;onSort=new C;onLazyLoad=new C;sortFunction=new C;onColResize=new C;onColReorder=new C;onNodeSelect=new C;onNodeUnselect=new C;onContextMenuSelect=new C;onHeaderCheckboxToggle=new C;onEditInit=new C;onEditComplete=new C;onEditCancel=new C;selectionKeysChange=new C;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;_colGroupTemplate;colGroupTemplate;_captionTemplate;captionTemplate;_headerTemplate;headerTemplate;_bodyTemplate;bodyTemplate;_footerTemplate;footerTemplate;_summaryTemplate;summaryTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_togglerIconTemplate;togglerIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;_loaderTemplate;loaderTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break}})}filterService=le(Ct);tableService=le(Je);zone=le(pe);ngOnChanges(e){super.ngOnChanges(e),e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,o,i,l){if(o&&o.length)for(let r of o){r.parent=e;let d={node:r,parent:e,level:i,visible:l&&(e?e.expanded:!0)};this.serializedValue.push(d),d.visible&&r.expanded&&this.serializeNodes(r,r.children,i+1,d.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let o=this.lazy?0:this.first;for(let i=o;i<o+this.rows;i++){let l=e[i];l&&(this.serializedValue.push({node:l,parent:null,level:0,visible:!0}),this.serializeNodes(l,l.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(L(e.data,this.dataKey))]=1;else this.selectedKeys[String(L(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let o=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let i=o.metaKey||o.ctrlKey,l=this.getSortMeta(e.field);l?i?l.order=l.order*-1:(this._multiSortMeta=[{field:e.field,order:l.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!i||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((o,i)=>{let l=L(o.data,this.sortField),r=L(i.data,this.sortField),d=null;return l==null&&r!=null?d=-1:l!=null&&r==null?d=1:l==null&&r==null?d=0:typeof l=="string"&&typeof r=="string"?d=l.localeCompare(r,void 0,{numeric:!0}):d=l<r?-1:l>r?1:0,this.sortOrder*d});for(let o of e)this.sortNodes(o.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((o,i)=>this.multisortField(o,i,this.multiSortMeta,0));for(let o of e)this.sortMultipleNodes(o.children)}}multisortField(e,o,i,l){if(He(this.multiSortMeta)||He(i[l]))return 0;let r=L(e.data,i[l].field),d=L(o.data,i[l].field),h=null;if(r==null&&d!=null?h=-1:r!=null&&d==null?h=1:r==null&&d==null&&(h=0),typeof r=="string"||r instanceof String){if(r.localeCompare&&r!=d)return i[l].order*r.localeCompare(d,void 0,{numeric:!0})}else h=r<d?-1:1;return r==d?i.length-1>l?this.multisortField(e,o,i,l+1):0:i[l].order*h}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field===e)return this.multiSortMeta[o]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let o=!1;if(this.multiSortMeta){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field==e){o=!0;break}}return o}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(ie(V(V({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let o=re(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-o+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let o=re(this.containerViewChild?.nativeElement).left;Ve(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-o+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,o){let i=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,l=o.offsetWidth,r=l+i,d=o.style.minWidth||15;if(l+i>parseInt(d)){if(this.columnResizeMode==="fit"){let h=o.nextElementSibling;for(;!h.offsetParent;)h=h.nextElementSibling;if(h){let y=h.offsetWidth-i,w=h.style.minWidth||15;if(r>15&&y>parseInt(w))if(this.scrollable){let D=this.findParentScrollableView(o),I=z(D,".p-treetable-scrollable-body table")||z(D,".p-scroller-viewport table"),F=z(D,"table.p-treetable-scrollable-header-table"),R=z(D,"table.p-treetable-scrollable-footer-table"),N=Be(o);this.resizeColGroup(F,N,r,y),this.resizeColGroup(I,N,r,y),this.resizeColGroup(R,N,r,y)}else o.style.width=r+"px",h&&(h.style.width=y+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let h=this.findParentScrollableView(o),y=z(h,".p-treetable-scrollable-body")||z(h,".p-scroller-viewport"),w=z(h,".p-treetable-scrollable-header"),D=z(h,".p-treetable-scrollable-footer"),I=z(h,".p-treetable-scrollable-body table")||z(h,".p-scroller-viewport table"),F=z(h,"table.p-treetable-scrollable-header-table"),R=z(h,"table.p-treetable-scrollable-footer-table");I.style.width=I.offsetWidth+i+"px",F.style.width=F.offsetWidth+i+"px",R&&(R.style.width=R.offsetWidth+i+"px");let N=Be(o),se=o?I.offsetWidth+i:r,ce=o?F.offsetWidth+i:r,xe=this.containerViewChild?.nativeElement.offsetWidth>=se,Ee=(Ze,Ye,et,yi)=>{Ze&&Ye&&(Ze.style.width=yi?et+Oe(y)+"px":"auto",Ye.style.width=et+"px")};Ee(y,I,se,xe),Ee(w,F,ce,xe),Ee(D,R,ce,xe),this.resizeColGroup(F,N,r,null),this.resizeColGroup(I,N,r,null),this.resizeColGroup(R,N,r,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+i+"px",o.style.width=r+"px";let h=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=h+"px"}this.onColResize.emit({element:o,delta:i})}this.resizeHelperViewChild.nativeElement.style.display="none",Pe(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let o=e.parentElement;for(;o&&!Ne(o,"p-treetable-scrollable-view");)o=o.parentElement;return o}else return null}resizeColGroup(e,o,i,l){if(e){let r=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(r){let d=r.children[o],h=d.nextElementSibling;d.style.width=i+"px",h&&l&&(h.style.width=l+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,o){this.reorderIconWidth=Tt(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=yt(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=o,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,o){if(this.reorderableColumns&&this.draggedColumn&&o){e.preventDefault();let i=re(this.containerViewChild?.nativeElement),l=re(o);if(this.draggedColumn!=o){let r=l.left-i.left,d=i.top-l.top,h=l.left+o.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-i.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-i.top+o.offsetHeight+"px",e.pageX>h?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,o){if(e.preventDefault(),this.draggedColumn){let i=Ge.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),l=Ge.indexWithinGroup(o,"ttreorderablecolumn"),r=i!=l;r&&(l-i==1&&this.dropPosition===-1||i-l==1&&this.dropPosition===1)&&(r=!1),r&&l<i&&this.dropPosition===1&&(l=l+1),r&&l>i&&this.dropPosition===-1&&(l=l-1),r&&(wt(this.columns,i,l),this.onColReorder.emit({dragIndex:i,dropIndex:l,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let o=e.originalEvent.target.nodeName;if(!(o=="INPUT"||o=="BUTTON"||o=="A"||Ne(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let i=e.rowNode,l=this.isSelected(i.node),r=this.rowTouched?!1:this.metaKeySelection,d=this.dataKey?String(L(i.node.data,this.dataKey)):null;if(r){let h=e.originalEvent,y=h.metaKey||h.ctrlKey;if(l&&y){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let w=this.findIndexInSelection(i.node);this._selection=this.selection.filter((D,I)=>I!=w),this.selectionChange.emit(this.selection),d&&delete this.selectedKeys[d]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=i.node,this.selectionChange.emit(i.node),d&&(this.selectedKeys={},this.selectedKeys[d]=1)):this.isMultipleSelectionMode()&&(y?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,i.node],this.selectionChange.emit(this.selection),d&&(this.selectedKeys[d]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"})):(this._selection=i.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex}),d&&(this.selectedKeys={},this.selectedKeys[d]=1));else if(this.selectionMode==="multiple")if(l){let h=this.findIndexInSelection(i.node);this._selection=this.selection.filter((y,w)=>w!=h),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"}),d&&delete this.selectedKeys[d]}else this._selection=this.selection?[...this.selection,i.node]:[i.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex}),d&&(this.selectedKeys[d]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let o=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=o,this.contextMenuSelectionChange.emit(o),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:o}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(o);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let i=this.isSelected(o),l=this.dataKey?String(L(o.data,this.dataKey)):null;i||(this.isSingleSelectionMode()?(this.selection=o,this.selectionChange.emit(o)):this.isMultipleSelectionMode()&&(this.selection=[o],this.selectionChange.emit(this.selection)),l&&(this.selectedKeys[l]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:o})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let o=e.rowNode.node;this.isSelected(o)?(this.propagateSelectionDown(o,!1),e.rowNode.parent&&this.propagateSelectionUp(o.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:o})):(this.propagateSelectionDown(o,!0),e.rowNode.parent&&this.propagateSelectionUp(o.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:o})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,o){let i=this.filteredNodes||this.value;this._selection=o&&i?i.slice():[],this.toggleAll(o),o||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:o})}toggleAll(e){let o=this.filteredNodes||this.value;if(this.selectionKeys){if(o&&o.length){for(let i of o)this.propagateDown(i,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(o&&o.length)for(let i of o)this.propagateSelectionDown(i,e)}propagateSelectionUp(e,o){if(e.children&&e.children.length){let l=0,r=!1,d=this.dataKey?String(L(e.data,this.dataKey)):null;for(let h of e.children)this.isSelected(h)?l++:h.partialSelected&&(r=!0);if(o&&l==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,d&&(this.selectedKeys[d]=1);else{if(!o){let h=this.findIndexInSelection(e);h>=0&&(this._selection=this.selection.filter((y,w)=>w!=h),d&&delete this.selectedKeys[d])}r||l>0&&l!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let i=e.parent;e.checked=o,i&&this.propagateSelectionUp(i,o)}propagateSelectionDown(e,o){let i=this.findIndexInSelection(e),l=this.dataKey?String(L(e.data,this.dataKey)):null;if(o&&i==-1?(this._selection=[...this.selection||[],e],l&&(this.selectedKeys[l]=1)):!o&&i>-1&&(this._selection=this.selection.filter((r,d)=>d!=i),l&&delete this.selectedKeys[l]),e.partialSelected=!1,e.checked=o,e.children&&e.children.length)for(let r of e.children)this.propagateSelectionDown(r,o)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[L(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return L(e,this.dataKey)||L(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:o,check:i,originalEvent:l}=e,r=o.node;this.selectionKeys?(this.propagateDown(r,i),r.parent&&this.propagateUp(r.parent,i),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:l,rowNode:o}),this.tableService.onSelectionChange()}propagateDown(e,o){if(o?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let i of e.children)this.propagateDown(i,o)}propagateUp(e,o){let i=0,l=!1;for(let d of e.children)this.selectionKeys[this.nodeKey(d)]&&this.selectionKeys[this.nodeKey(d)].checked?i++:this.selectionKeys[this.nodeKey(d)]&&this.selectionKeys[this.nodeKey(d)].partialChecked&&(l=!0);o&&i===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(o||delete this.selectionKeys[this.nodeKey(e)],l||i>0&&i!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let r=e.parent;r&&this.propagateUp(r,o)}findIndexInSelection(e){let o=-1;if(this.selection&&this.selection.length){for(let i=0;i<this.selection.length;i++)if(this.equals(e,this.selection[i])){o=i;break}}return o}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,o){return this.compareSelectionBy==="equals"?Ke(e,o):Ke(e.data,o.data,this.dataKey)}filter(e,o,i){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[o]&&delete this.filters[o]:this.filters[o]={value:e,matchMode:i},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,o){this.filter(e,"global",o)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let o;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");o=this.globalFilterFields||this.columns}this.filteredNodes=[];let i=this.filterMode==="strict",l=!1;for(let r of this.value){let d=V({},r),h=!0,y=!1,w;for(let I in this.filters)if(this.filters.hasOwnProperty(I)&&I!=="global"){let F=this.filters[I],R=I,N=F.value,se=F.matchMode||"startsWith",ce=this.filterService.filters[se];if(w={filterField:R,filterValue:N,filterConstraint:ce,isStrictMode:i},(i&&!(this.findFilteredNodes(d,w)||this.isFilterMatched(d,w))||!i&&!(this.isFilterMatched(d,w)||this.findFilteredNodes(d,w)))&&(h=!1),!h)break}if(this.filters.global&&!y&&o){let I=V({},d),F,R=this.filters.global.value,N=this.filterService.filters[this.filters.global.matchMode];w={filterField:F,filterValue:R,filterConstraint:N,isStrictMode:i,globalFilterFieldsArray:o},(i&&(this.findFilteredNodes(I,w)||this.isFilterMatched(I,w))||!i&&(this.isFilterMatched(I,w)||this.findFilteredNodes(I,w)))&&(y=!0,d=I)}let D=h;this.filters.global&&(D=h&&y),D&&this.filteredNodes.push(d),l=l||!h||y||h&&this.filteredNodes.length>0||!y&&this.filteredNodes.length===0}l||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,o){if(e){let i=!1;if(e.children){let l=[...e.children];e.children=[];for(let r of l){let d=V({},r);this.isFilterMatched(d,o)&&(i=!0,e.children.push(d))}}if(i)return!0}}isFilterMatched(e,o){let{filterField:i,filterValue:l,filterConstraint:r,isStrictMode:d,globalFilterFieldsArray:h}=o,y=!1,w=D=>r(L(e.data,D),l,this.filterLocale);return y=h?.length?h.some(D=>w(D.field||D)):w(i),(!y||d&&!this.isNodeLeaf(e))&&(y=this.findFilteredNodes(e,{filterField:i,filterValue:l,filterConstraint:r,isStrictMode:d,globalFilterFieldsArray:h})||y),y}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let o in this.filters)if(this.filters.hasOwnProperty(o)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,o,i){this.editingCell=e,this.editingCellData=o,this.editingCellField=i,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&_t(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(Pe(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Me(t)))(i||t)}})();static \u0275cmp=O({type:t,selectors:[["p-treeTable"],["p-treetable"],["p-tree-table"]],contentQueries:function(o,i,l){if(o&1&&(b(l,wi,4),b(l,Ci,4),b(l,vi,4),b(l,Si,4),b(l,Ii,4),b(l,xi,4),b(l,Ei,4),b(l,ki,4),b(l,Mi,4),b(l,Di,4),b(l,zi,4),b(l,Li,4),b(l,Fi,4),b(l,Ri,4),b(l,Ni,4),b(l,Vi,4),b(l,Pi,4),b(l,Oi,4),b(l,Bi,4),b(l,Hi,4),b(l,Ki,4),b(l,$i,4),b(l,Ai,4),b(l,Qi,4),b(l,Ui,4),b(l,ji,4),b(l,ee,4)),o&2){let r;m(r=g())&&(i._colGroupTemplate=r.first),m(r=g())&&(i._captionTemplate=r.first),m(r=g())&&(i._headerTemplate=r.first),m(r=g())&&(i._bodyTemplate=r.first),m(r=g())&&(i._footerTemplate=r.first),m(r=g())&&(i._summaryTemplate=r.first),m(r=g())&&(i._emptyMessageTemplate=r.first),m(r=g())&&(i._paginatorLeftTemplate=r.first),m(r=g())&&(i._paginatorRightTemplate=r.first),m(r=g())&&(i._paginatorDropdownItemTemplate=r.first),m(r=g())&&(i._frozenHeaderTemplate=r.first),m(r=g())&&(i._frozenBodyTemplate=r.first),m(r=g())&&(i._frozenFooterTemplate=r.first),m(r=g())&&(i._frozenColGroupTemplate=r.first),m(r=g())&&(i._loadingIconTemplate=r.first),m(r=g())&&(i._reorderIndicatorUpIconTemplate=r.first),m(r=g())&&(i._reorderIndicatorDownIconTemplate=r.first),m(r=g())&&(i._sortIconTemplate=r.first),m(r=g())&&(i._checkboxIconTemplate=r.first),m(r=g())&&(i._headerCheckboxIconTemplate=r.first),m(r=g())&&(i._togglerIconTemplate=r.first),m(r=g())&&(i._paginatorFirstPageLinkIconTemplate=r.first),m(r=g())&&(i._paginatorLastPageLinkIconTemplate=r.first),m(r=g())&&(i._paginatorPreviousPageLinkIconTemplate=r.first),m(r=g())&&(i._paginatorNextPageLinkIconTemplate=r.first),m(r=g())&&(i._loaderTemplate=r.first),m(r=g())&&(i.templates=r)}},viewQuery:function(o,i){if(o&1&&(M(qi,5),M(Wi,5),M(Gi,5),M(Xi,5),M(Ji,5),M(Zi,5),M(Yi,5)),o&2){let l;m(l=g())&&(i.containerViewChild=l.first),m(l=g())&&(i.resizeHelperViewChild=l.first),m(l=g())&&(i.reorderIndicatorUpViewChild=l.first),m(l=g())&&(i.reorderIndicatorDownViewChild=l.first),m(l=g())&&(i.tableViewChild=l.first),m(l=g())&&(i.scrollableViewChild=l.first),m(l=g())&&(i.scrollableFrozenViewChild=l.first)}},inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",S],lazy:[2,"lazy","lazy",S],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",S],paginator:[2,"paginator","paginator",S],rows:[2,"rows","rows",A],first:[2,"first","first",A],pageLinks:[2,"pageLinks","pageLinks",A],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",S],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",S],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",S],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",S],showPageLinks:[2,"showPageLinks","showPageLinks",S],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",A],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",S],customSort:[2,"customSort","customSort",S],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",S],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",S],loading:[2,"loading","loading",S],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",S],scrollable:[2,"scrollable","scrollable",S],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",S],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",A],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",A],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",S],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",S],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",A],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys",showGridlines:[2,"showGridlines","showGridlines",S]},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},standalone:!1,features:[be([Je,di]),De,de],decls:12,vars:21,consts:[["container",""],["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-treetable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-treetable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-overlay-mask","p-treetable-mask"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",2,"display","none"],[1,"p-treetable-reorder-indicator-up",2,"display","none"],[1,"p-treetable-reorder-indicator-down",2,"display","none"]],template:function(o,i){o&1&&(c(0,"div",7,0),u(2,co,4,2,"div",8)(3,uo,2,1,"div",9)(4,Io,5,21,"p-paginator",10)(5,Mo,9,16,"div",11)(6,zo,4,8,"div",12)(7,Qo,5,21,"p-paginator",13)(8,jo,2,1,"div",14)(9,qo,2,0,"div",15)(10,Jo,4,2,"span",16)(11,tl,4,2,"span",17),p()),o&2&&(he(i.styleClass),a("ngStyle",i.style)("ngClass",ct(14,eo,i.showGridlines,i.rowHover||i.selectionMode==="single"||i.selectionMode==="multiple",i.autoLayout,i.resizableColumns,i.resizableColumns&&i.columnResizeMode==="fit",i.scrollable&&i.scrollHeight==="flex")),s(2),a("ngIf",i.loading&&i.showLoader),s(),a("ngIf",i.captionTemplate||i._captionTemplate),s(),a("ngIf",i.paginator&&(i.paginatorPosition==="top"||i.paginatorPosition=="both")),s(),a("ngIf",!i.scrollable),s(),a("ngIf",i.scrollable),s(),a("ngIf",i.paginator&&(i.paginatorPosition==="bottom"||i.paginatorPosition=="both")),s(),a("ngIf",i.summaryTemplate||i._summaryTemplate),s(),a("ngIf",i.resizableColumns),s(),a("ngIf",i.reorderableColumns),s(),a("ngIf",i.reorderableColumns))},dependencies:()=>[J,B,ne,Re,Gt,ee,We,Qe,Ue,Wl,mi],encapsulation:2})}return t})(),mi=(()=>{class t{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,o,i){this.tt=e,this.treeTableService=o,this.cd=i,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,o){return this.tt.virtualScroll?(o=o||this.scrollerOptions,o?o[e]:null):null}getRowIndex(e){let o=this.getScrollerOption("getItemOptions");return o?o(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||t)(x(ae),x(Je),x(dt))};static \u0275cmp=O({type:t,selectors:[["","pTreeTableBody",""]],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",S],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},standalone:!1,attrs:il,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,i){o&1&&u(0,al,1,1,"ng-template",0)(1,cl,2,5,"ng-container",1),o&2&&(a("ngForOf",i.serializedNodes||i.tt.serializedValue)("ngForTrackBy",i.tt.rowTrackBy),s(),a("ngIf",i.tt.isEmpty()))},dependencies:[pt,B,ne],encapsulation:2})}return t})(),Wl=(()=>{class t{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,o,i,l,r){this.platformId=e,this.renderer=o,this.tt=i,this.el=l,this.zone=r}ngAfterViewInit(){if(ye(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=bt()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate||this.tt._frozenBodyTemplate)&&Ve(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;if(e&&(this.tt.virtualScroll?this.frozenSiblingBody=z(e,".p-scroller-viewport"):this.frozenSiblingBody=z(e,".p-treetable-scrollable-body")),this.scrollHeight){let o=Oe();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=o+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=o+"px")}}this.bindEvents()}}bindEvents(){ye(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){ye(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(o){return new(o||t)(x(ot),x(lt),x(ae),x(it),x(pe))};static \u0275cmp=O({type:t,selectors:[["","ttScrollableView",""]],viewQuery:function(o,i){if(o&1&&(M(dl,5),M(pl,5),M(ul,5),M(hl,5),M(ml,5),M(gl,5),M(fl,5),M(bl,5),M(_l,5)),o&2){let l;m(l=g())&&(i.scrollHeaderViewChild=l.first),m(l=g())&&(i.scrollHeaderBoxViewChild=l.first),m(l=g())&&(i.scrollBodyViewChild=l.first),m(l=g())&&(i.scrollTableViewChild=l.first),m(l=g())&&(i.scrollLoadingTableViewChild=l.first),m(l=g())&&(i.scrollFooterViewChild=l.first),m(l=g())&&(i.scrollFooterBoxViewChild=l.first),m(l=g())&&(i.scrollableAlignerViewChild=l.first),m(l=g())&&(i.scroller=l.first)}},inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",S],scrollHeight:"scrollHeight"},standalone:!1,attrs:yl,decls:13,vars:13,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[1,"p-treetable-scrollable-header"],[1,"p-treetable-scrollable-header-box"],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"onLazyLoad","items","scrollHeight","itemSize","lazy","options"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],[1,"p-treetable-scrollable-footer"],[1,"p-treetable-scrollable-footer-box"],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(o,i){o&1&&(c(0,"div",11,0)(2,"div",12,1)(4,"table",13),u(5,Sl,1,0,"ng-container",14),c(6,"thead",15),u(7,Il,1,0,"ng-container",14),p()()()(),u(8,zl,5,10,"p-scroller",16)(9,Fl,4,10,"ng-container",17)(10,Vl,5,15,"ng-template",null,2,_e)(12,Bl,8,10,"div",18)),o&2&&(s(4),a("ngClass",i.tt.tableStyleClass)("ngStyle",i.tt.tableStyle),s(),a("ngTemplateOutlet",i.frozen?i.tt.frozenColGroupTemplate||i.tt._frozenColGroupTemplate||i.tt.colGroupTemplate||i.tt._colGroupTemplate:i.tt.colGroupTemplate||i.tt._colGroupTemplate)("ngTemplateOutletContext",k(9,H,i.columns)),s(2),a("ngTemplateOutlet",i.frozen?i.tt.frozenHeaderTemplate||i.tt._frozenHeaderTemplate||i.tt.headerTemplate||i.tt._headerTemplate:i.tt.headerTemplate||i.tt._headerTemplate)("ngTemplateOutletContext",k(11,H,i.columns)),s(),a("ngIf",i.tt.virtualScroll),s(),a("ngIf",!i.tt.virtualScroll),s(3),a("ngIf",i.tt.footerTemplate||i.tt._footerTemplate))},dependencies:()=>[J,B,ne,Re,Xe,mi],encapsulation:2})}return t})();var gi=(()=>{class t extends Ae{tt;rowNode;constructor(e){super(),this.tt=e}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(o){return new(o||t)(x(ae))};static \u0275cmp=O({type:t,selectors:[["p-treeTableToggler"],["p-treetabletoggler"],["p-treetable-toggler"]],inputs:{rowNode:"rowNode"},standalone:!1,features:[De],decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,i){o&1&&(c(0,"button",0),E("click",function(r){return i.onClick(r)}),u(1,$l,3,2,"ng-container",1)(2,Ql,1,0,null,2),p()),o&2&&(rt("visibility",i.rowNode.node.leaf===!1||i.rowNode.node.children&&i.rowNode.node.children.length?"visible":"hidden")("margin-left",i.rowNode.level*16+"px"),ue("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",i.toggleButtonAriaLabel),s(),a("ngIf",!i.tt.togglerIconTemplate&&!i.tt._togglerIconTemplate),s(),a("ngTemplateOutlet",i.tt.togglerIconTemplate||i.tt._togglerIconTemplate)("ngTemplateOutletContext",k(10,H,i.rowNode.node.expanded)))},dependencies:()=>[B,ne,Dt,je,qe],encapsulation:2})}return t})(),fi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=nt({type:t});static \u0275inj=tt({imports:[Y,Xt,Xe,We,Qe,Ue,xt,kt,Et,St,It,je,qe,Wt,$e,Se,$e]})}return t})();var te=Rt("messages"),Xl=Q(te,t=>t.messages),Zn=Q(te,t=>t.currentMessage),Yn=Q(te,t=>t.rootMessages),er=Q(te,t=>t.loading),tr=Q(te,t=>t.error),ir=Q(te,t=>t.exportedXml),bi=t=>Q(Xl,n=>n.find(e=>e.id===t)||null);var Yl=t=>({"ng-invalid ng-dirty":t});function en(t,n){t&1&&(c(0,"small",10),_(1," Name is required "),p())}var Ie=class t{constructor(n){this.fb=n;this.messageForm=this.fb.group({name:["",Ot.required],description:[""]})}message=null;rootId="";formSubmit=new C;formCancel=new C;messageForm;submitted=!1;ngOnInit(){this.initForm()}ngOnChanges(n){n.message&&n.message.currentValue&&this.initForm()}get f(){return this.messageForm.controls}initForm(){this.message?this.messageForm.patchValue({name:this.message.name,description:this.message.description}):this.messageForm.reset(),this.submitted=!1}onSubmit(){if(this.submitted=!0,this.messageForm.valid){let n=this.messageForm.value,e={id:this.message?.id||"",name:n.name,description:n.description,rootId:this.message?.rootId||this.rootId,createdDate:this.message?.createdDate||new Date,lastModifiedDate:new Date,fields:this.message?.fields||[]};this.formSubmit.emit(e),this.submitted=!1}}onCancel(){this.formCancel.emit(),this.submitted=!1}static \u0275fac=function(e){return new(e||t)(x(Qt))};static \u0275cmp=O({type:t,selectors:[["app-message-form"]],inputs:{message:"message",rootId:"rootId"},outputs:{formSubmit:"formSubmit",formCancel:"formCancel"},features:[de],decls:13,vars:6,consts:[[1,"p-fluid",3,"ngSubmit","formGroup"],[1,"field"],["for","name",1,"font-bold"],["id","name","type","text","pInputText","","formControlName","name",3,"ngClass"],["class","p-error",4,"ngIf"],["for","description",1,"font-bold"],["id","description","pInputTextarea","","formControlName","description","rows","3"],[1,"flex","justify-content-end","gap-2","mt-4"],["pButton","","type","button","label","Cancel",1,"p-button-outlined",3,"click"],["pButton","","type","submit","label","Save",3,"disabled"],[1,"p-error"]],template:function(e,o){e&1&&(c(0,"form",0),E("ngSubmit",function(){return o.onSubmit()}),c(1,"div",1)(2,"label",2),_(3,"Name"),p(),v(4,"input",3),u(5,en,2,0,"small",4),p(),c(6,"div",1)(7,"label",5),_(8,"Description"),p(),v(9,"textarea",6),p(),c(10,"div",7)(11,"button",8),E("click",function(){return o.onCancel()}),p(),v(12,"button",9),p()()),e&2&&(a("formGroup",o.messageForm),s(4),a("ngClass",k(4,Yl,o.submitted&&o.f.name.errors)),s(),a("ngIf",o.submitted&&(o.f.name.errors==null?null:o.f.name.errors.required)),s(7),a("disabled",o.messageForm.invalid))},dependencies:[Y,J,B,Ut,Kt,Pt,Bt,Ht,$t,At,qt,jt,ve,Ce],encapsulation:2})};var tn=t=>["/roots",t],on=()=>[10,25,50],ln=()=>({width:"500px"}),nn=()=>({width:"600px"}),rn=()=>({width:"80vw"}),an=(t,n)=>({"pi-check-circle text-green-500":t,"pi-times-circle text-red-500":n}),sn=t=>["/fields",t];function cn(t,n){if(t&1&&(c(0,"h1",31),_(1),p()),t&2){let e=f();s(),P(e.message.name)}}function dn(t,n){t&1&&(c(0,"tr")(1,"th"),_(2,"Name"),p(),c(3,"th"),_(4,"Type"),p(),c(5,"th"),_(6,"Required"),p(),c(7,"th"),_(8,"Description"),p(),c(9,"th",32),_(10,"Actions"),p()())}function pn(t,n){if(t&1){let e=Z();c(0,"tr")(1,"td"),v(2,"p-treeTableToggler",33),_(3),p(),c(4,"td"),_(5),p(),c(6,"td"),v(7,"i",34),p(),c(8,"td"),_(9),p(),c(10,"td")(11,"div",35),v(12,"button",36),c(13,"button",37),E("click",function(){let i=U(e).$implicit,l=f();return j(l.showEditFieldDialog(i.data))}),p(),c(14,"button",38),E("click",function(){let i=U(e).$implicit,l=f();return j(l.confirmDeleteField(i.data))}),p()()()()}if(t&2){let e=n.$implicit;s(2),a("rowNode",e),s(),at(" ",e.data.name," "),s(2),P(e.data.type),s(2),a("ngClass",$(6,an,e.data.isRequired,!e.data.isRequired)),s(2),P(e.data.description),s(3),a("routerLink",k(9,sn,e.data.id))}}function un(t,n){t&1&&(c(0,"tr")(1,"td",39),_(2," No fields found. "),p()())}var _i=class t{constructor(n,e,o,i,l,r){this.route=n;this.router=e;this.store=o;this.confirmationService=i;this.messageService=l;this.signalRService=r}messageId="";message=null;breadcrumbs=[];fieldTreeNodes=[];messageDialogVisible=!1;fieldDialogVisible=!1;fieldDialogHeader="";selectedField=null;exportDialogVisible=!1;exportedXml="";destroy$=new K;ngOnInit(){this.route.params.pipe(oe(this.destroy$)).subscribe(n=>{this.messageId=n.id,this.store.dispatch(li({id:this.messageId})),this.store.select(bi(this.messageId)).pipe(oe(this.destroy$)).subscribe(e=>{e&&(this.message=e,this.buildFieldTreeNodes(),this.breadcrumbs=[{label:"Projects",routerLink:["/projects"]},{label:"Root",routerLink:["/roots",e.rootId]},{label:e.name}],e.rootId&&this.store.select(o=>o.roots.roots.find(i=>i.id===e.rootId)?.projectId||"").pipe(oe(this.destroy$)).subscribe(o=>{o&&this.signalRService.joinProject(o)}))})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}buildFieldTreeNodes(){if(!this.message||!this.message.fields){this.fieldTreeNodes=[];return}let n=this.message.fields.filter(e=>!e.parentFieldId);this.fieldTreeNodes=n.map(e=>this.createFieldTreeNode(e,this.message.fields))}createFieldTreeNode(n,e){let o={data:n,children:[]};if(n.type==="Complex"){let i=e.filter(l=>l.parentFieldId===n.id);i.length>0&&(o.children=i.map(l=>this.createFieldTreeNode(l,e)))}return o}showEditMessageDialog(){this.messageDialogVisible=!0}onMessageFormSubmit(n){this.store.dispatch(hn({message:n})),this.messageService.add({severity:"success",summary:"Success",detail:"Message updated successfully"}),this.messageDialogVisible=!1}showCreateFieldDialog(){this.selectedField=null,this.fieldDialogHeader="Create New Field",this.fieldDialogVisible=!0}showEditFieldDialog(n){this.selectedField=V({},n),this.fieldDialogHeader="Edit Field",this.fieldDialogVisible=!0}onFieldFormSubmit(n){this.selectedField?(this.store.dispatch(si({field:ie(V({},n),{id:this.selectedField.id})})),this.messageService.add({severity:"success",summary:"Success",detail:"Field updated successfully"})):(this.store.dispatch(ai({field:ie(V({},n),{messageId:this.messageId,parentFieldId:null})})),this.messageService.add({severity:"success",summary:"Success",detail:"Field created successfully"})),this.fieldDialogVisible=!1}confirmDeleteField(n){this.confirmationService.confirm({message:`Are you sure you want to delete the field "${n.name}"?`,header:"Confirm Delete",icon:"pi pi-exclamation-triangle",accept:()=>{this.store.dispatch(ci({id:n.id})),this.messageService.add({severity:"success",summary:"Success",detail:"Field deleted successfully"})}})}exportMessage(){this.messageId&&(this.store.dispatch(ni({id:this.messageId})),this.store.select(n=>n.messages.exportedXml).pipe(oe(this.destroy$)).subscribe(n=>{n&&(this.exportedXml=n,this.exportDialogVisible=!0)}))}copyToClipboard(n){navigator.clipboard.writeText(n).then(()=>{this.messageService.add({severity:"success",summary:"Success",detail:"XML copied to clipboard"})},e=>{console.error("Could not copy text: ",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to copy to clipboard"})})}onSearch(n){}onClearSearch(){}static \u0275fac=function(e){return new(e||t)(x(ht),x(mt),x(Ft),x(Te),x(we),x(oi))};static \u0275cmp=O({type:t,selectors:[["app-message-detail"]],features:[be([we,Te])],decls:56,vars:49,consts:[[1,"card"],[1,"mb-4"],[3,"breadcrumbs"],[1,"p-toolbar-group-start"],["class","text-2xl font-bold m-0",4,"ngIf"],[1,"p-toolbar-group-end"],[3,"search","clear"],["pButton","","type","button","label","New Field","icon","pi pi-plus",1,"ml-2",3,"click"],["pButton","","type","button","label","Export","icon","pi pi-download",1,"p-button-success","ml-2",3,"click"],[1,"grid","mt-4"],[1,"col-4"],["header","Message Information","styleClass","h-full"],[1,"grid"],[1,"col-4","font-bold"],[1,"col-8"],[1,"flex","justify-content-end","gap-2","mt-4"],["pButton","","type","button","icon","pi pi-arrow-left","label","Back to Root",1,"p-button-outlined",3,"routerLink"],["pButton","","type","button","icon","pi pi-pencil","label","Edit",1,"p-button-success",3,"click"],["header","Fields","styleClass","h-full"],["styleClass","p-treetable-sm p-treetable-gridlines",3,"value","paginator","rows","rowsPerPageOptions","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"visibleChange","visible","header","modal","draggable","resizable"],[3,"formSubmit","formCancel","message","rootId"],[3,"formSubmit","formCancel","field","messageId","parentFieldId"],["header","Exported XML",3,"visibleChange","visible","modal","draggable","resizable"],[1,"p-3","border","rounded","bg-gray-100","overflow-auto",2,"max-height","70vh"],[1,"flex","justify-content-end","mt-4"],["pButton","","type","button","label","Copy","icon","pi pi-copy",3,"click"],["pButton","","type","button","label","Close","icon","pi pi-times",1,"p-button-outlined","ml-2",3,"click"],[1,"text-2xl","font-bold","m-0"],[2,"width","150px"],[3,"rowNode"],[1,"pi",3,"ngClass"],[1,"flex","gap-2"],["pButton","","type","button","icon","pi pi-eye","pTooltip","View",1,"p-button-sm","p-button-info",3,"routerLink"],["pButton","","type","button","icon","pi pi-pencil","pTooltip","Edit",1,"p-button-sm","p-button-success",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete",1,"p-button-sm","p-button-danger",3,"click"],["colspan","5",1,"text-center","p-4"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"div",1),v(2,"app-breadcrumb",2),p(),c(3,"p-toolbar")(4,"div",3),u(5,cn,2,1,"h1",4),p(),c(6,"div",5)(7,"app-search-box",6),E("search",function(l){return o.onSearch(l)})("clear",function(){return o.onClearSearch()}),p(),c(8,"button",7),E("click",function(){return o.showCreateFieldDialog()}),p(),c(9,"button",8),E("click",function(){return o.exportMessage()}),p()()(),c(10,"div",9)(11,"div",10)(12,"p-card",11)(13,"div",12)(14,"div",13),_(15,"Name:"),p(),c(16,"div",14),_(17),p(),c(18,"div",13),_(19,"Description:"),p(),c(20,"div",14),_(21),p(),c(22,"div",13),_(23,"Created:"),p(),c(24,"div",14),_(25),Le(26,"date"),p(),c(27,"div",13),_(28,"Last Modified:"),p(),c(29,"div",14),_(30),Le(31,"date"),p(),c(32,"div",13),_(33,"Fields:"),p(),c(34,"div",14),_(35),p()(),c(36,"div",15),v(37,"button",16),c(38,"button",17),E("click",function(){return o.showEditMessageDialog()}),p()()()(),c(39,"div",14)(40,"p-card",18)(41,"p-treeTable",19),u(42,dn,11,0,"ng-template",20)(43,pn,15,11,"ng-template",21)(44,un,3,0,"ng-template",22),p()()()()(),c(45,"p-dialog",23),fe("visibleChange",function(l){return ge(o.messageDialogVisible,l)||(o.messageDialogVisible=l),l}),c(46,"app-message-form",24),E("formSubmit",function(l){return o.onMessageFormSubmit(l)})("formCancel",function(){return o.messageDialogVisible=!1}),p()(),c(47,"p-dialog",23),fe("visibleChange",function(l){return ge(o.fieldDialogVisible,l)||(o.fieldDialogVisible=l),l}),c(48,"app-field-form",25),E("formSubmit",function(l){return o.onFieldFormSubmit(l)})("formCancel",function(){return o.fieldDialogVisible=!1}),p()(),c(49,"p-dialog",26),fe("visibleChange",function(l){return ge(o.exportDialogVisible,l)||(o.exportDialogVisible=l),l}),c(50,"div",27)(51,"pre"),_(52),p()(),c(53,"div",28)(54,"button",29),E("click",function(){return o.copyToClipboard(o.exportedXml)}),p(),c(55,"button",30),E("click",function(){return o.exportDialogVisible=!1}),p()()()),e&2&&(s(2),a("breadcrumbs",o.breadcrumbs),s(3),a("ngIf",o.message),s(12),P(o.message==null?null:o.message.name),s(4),P(o.message==null?null:o.message.description),s(4),P(Fe(26,39,o.message==null?null:o.message.createdDate)),s(5),P(Fe(31,41,o.message==null?null:o.message.lastModifiedDate)),s(5),P((o.message==null||o.message.fields==null?null:o.message.fields.length)||0),s(2),a("routerLink",k(43,tn,o.message==null?null:o.message.rootId)),s(4),a("value",o.fieldTreeNodes)("paginator",!0)("rows",10)("rowsPerPageOptions",X(45,on))("showCurrentPageReport",!0),s(4),q(X(46,ln)),me("visible",o.messageDialogVisible),a("header","Edit Message")("modal",!0)("draggable",!1)("resizable",!1),s(),a("message",o.message)("rootId",(o.message==null?null:o.message.rootId)||""),s(),q(X(47,nn)),me("visible",o.fieldDialogVisible),a("header",o.fieldDialogHeader)("modal",!0)("draggable",!1)("resizable",!1),s(),a("field",o.selectedField)("messageId",o.messageId)("parentFieldId",null),s(),q(X(48,rn)),me("visible",o.exportDialogVisible),a("modal",!0)("draggable",!1)("resizable",!1),s(3),P(o.exportedXml))},dependencies:[Y,J,B,ut,ft,gt,Vt,Nt,ee,ti,Jt,ve,Ce,Yt,Zt,Lt,zt,Mt,fi,ae,gi,ii,ei,ri,Ie,Se],encapsulation:2})};function hn(t){throw new Error("Function not implemented.")}export{_i as MessageDetailComponent};
