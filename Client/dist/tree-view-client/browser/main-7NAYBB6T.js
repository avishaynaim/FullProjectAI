import{a as rt,b as Ln}from"./chunk-JPMZM5FZ.js";import{a as fn,b as pn}from"./chunk-NKEK344Z.js";import{a as Mn,b as st,c as Rn,d as wn,e as An,f as Pn,h as Cn,i as In,k as Nn,l as On,n as Dn,o as jn,q as kn,r as $n,s as Vn,t as xn}from"./chunk-VXZPXBXW.js";import{A as Mt,B as Hn,C as Gn,a as nt,b as ot,c as at,d as lt,e as ct,f as ut,g as dt,h as ft,i as pt,j as zn,k as ht,l as mt,m as Bn,n as gt,o as yt,p as Un,q as Et,r as St,s as Kn,t as vt,u as _t,v as qn,w as bt,x as Tt,y as Qn,z as Ft}from"./chunk-34GUFXG3.js";import{$ as mo,A as ci,B as ui,C as di,D as fi,E as pi,F as hi,G as mi,H as gi,I as yi,J as Ei,K as Si,L as lo,M as vi,N as _i,O as co,P as bi,Q as Ti,R as uo,S as Fi,T as Mi,U as fo,V as Ri,W as wi,X as po,Y as Ai,Z as Pi,_ as ho,a as un,b as dn,c as qt,d as Qt,e as Ht,f as Gt,g as Wt,h as Xt,i as Yt,j as Zt,k as Jt,l as io,m as ei,n as ti,o as ro,p as ii,q as ri,r as so,s as si,t as ni,u as no,v as oi,w as ai,x as oo,y as ao,z as li}from"./chunk-YQKW46AH.js";import{a as Rt,b as wt,c as At,d as Pt,e as Ct,f as It,g as Nt,h as Ot,i as Dt,j as Wn,k as jt,l as kt,m as Xn,n as $t,o as Vt,p as Yn,q as xt,r as Lt,s as Zn,t as zt,u as Bt,v as Jn,w as Ut,x as Kt,y as eo,z as to}from"./chunk-4XK3NOYE.js";import{a as oe}from"./chunk-34YXVSCO.js";import"./chunk-UFUJZYWO.js";import{A as _r,B as Je,a as Zs,b as Js,c as yr,d as en,e as tn,f as Er,g as Sr,i as rn,j as sn,l as nn,m as on,n as I,o as se,r as an,s as vr,z as we}from"./chunk-OHV4FBSO.js";import{a as fe,b as Ys}from"./chunk-TCOEHMSY.js";import{$ as D,D as Fe,Dc as Xs,E as J,F as R,G as ur,Ga as pr,Gd as ln,H as Ds,J as We,Ja as Us,K as js,Kd as et,L as ks,M as $s,P as dr,Pb as Hs,S as Vs,Sa as Ks,T as xs,Td as cn,U as Ls,Ua as hr,V as zs,X as k,Y as Xe,Z as fr,Za as qs,_ as Ve,a as u,b as f,ba as j,cc as Gs,d as ws,dc as xe,de as hn,ea as Q,ee as pe,fe as Ae,ga as b,ge as br,h as $e,ha as H,he as tt,ia as Ye,ie as mn,ja as Me,je as gn,k as As,ke as yn,le as En,m as Ps,me as Sn,n as Cs,ne as vn,o as Is,oe as Tr,p as Ns,pc as Ws,pe as it,qe as _n,r as M,ra as Bs,re as he,sb as mr,se as bn,tb as Qs,te as Tn,ub as gr,v as Os,w as T,we as Pe,xa as Ze,xe as Fn,y as U,ya as Re,ye as p,ze as ne}from"./chunk-R5Z5HX2T.js";var Da={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ci="__@ngrx/effects_create__";function w(i,e={}){let t=e.functional?i:i(),r=u(u({},Da),e);return Object.defineProperty(t,Ci,{value:r}),t}function ja(i){return Object.getOwnPropertyNames(i).filter(r=>i[r]&&i[r].hasOwnProperty(Ci)?i[r][Ci].hasOwnProperty("dispatch"):!1).map(r=>{let s=i[r][Ci];return u({propertyName:r},s)})}function ka(i){return ja(i)}function go(i){return Object.getPrototypeOf(i)}function $a(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function yo(i){return typeof i=="function"}function Va(i){return i.filter(yo)}function xa(i,e,t){let r=go(i),n=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,a=ka(i).map(({propertyName:o,dispatch:c,useEffectsErrorHandler:l})=>{let h=typeof i[o]=="function"?i[o]():i[o],d=l?t(h,e):h;return c===!1?d.pipe(js()):d.pipe(Vs()).pipe(T(S=>({effect:i[o],notification:S,propertyName:o,sourceName:n,sourceInstance:i})))});return Fe(...a)}var La=10;function Eo(i,e,t=La){return i.pipe(R(r=>(e&&e.handleError(r),t<=1?i:Eo(i,e,t-1))))}var ae=(()=>{class i extends $e{constructor(t){super(),t&&(this.source=t)}lift(t){let r=new i;return r.source=this,r.operator=t,r}static{this.\u0275fac=function(r){return new(r||i)(b(it))}}static{this.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function A(...i){return J(e=>i.some(t=>typeof t=="string"?t===e.type:t.type===e.type))}var vu=new Q("@ngrx/effects Internal Root Guard"),_u=new Q("@ngrx/effects User Provided Effects"),bu=new Q("@ngrx/effects Internal Root Effects"),Tu=new Q("@ngrx/effects Internal Root Effects Instances"),Fu=new Q("@ngrx/effects Internal Feature Effects"),Mu=new Q("@ngrx/effects Internal Feature Effects Instance Groups"),za=new Q("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Eo}),Ba="@ngrx/effects/init",Ua=pe(Ba);function Ka(i,e){if(i.notification.kind==="N"){let t=i.notification.value;!qa(t)&&e.handleError(new Error(`Effect ${Qa(i)} dispatched an invalid action: ${Ha(t)}`))}}function qa(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function Qa({propertyName:i,sourceInstance:e,sourceName:t}){let r=typeof e[i]=="function";return!!t?`"${t}.${String(i)}${r?"()":""}"`:`"${String(i)}()"`}function Ha(i){try{return JSON.stringify(i)}catch{return i}}var Ga="ngrxOnIdentifyEffects";function Wa(i){return wr(i,Ga)}var Xa="ngrxOnRunEffects";function Ya(i){return wr(i,Xa)}var Za="ngrxOnInitEffects";function Ja(i){return wr(i,Za)}function wr(i,e){return i&&e in i&&typeof i[e]=="function"}var So=(()=>{class i extends As{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(dr(t=>$a(t)?go(t):t),U(t=>t.pipe(dr(el))),U(t=>{let r=t.pipe($s(n=>tl(this.errorHandler,this.effectsErrorHandler)(n)),T(n=>(Ka(n,this.errorHandler),n.notification)),J(n=>n.kind==="N"&&n.value!=null),ks()),s=t.pipe(We(1),J(Ja),T(n=>n.ngrxOnInitEffects()));return Fe(r,s)}))}static{this.\u0275fac=function(r){return new(r||i)(b(Re),b(za))}}static{this.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function el(i){return Wa(i)?i.ngrxOnIdentifyEffects():""}function tl(i,e){return t=>{let r=xa(t,i,e);return Ya(t)?t.ngrxOnRunEffects(r):r}}var il=(()=>{class i{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||i)(b(So),b(he))}}static{this.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function vo(...i){let e=i.flat(),t=Va(e);return Me([t,{provide:Ye,multi:!0,useValue:()=>{H(yn),H(En,{optional:!0});let r=H(il),s=H(So),n=!r.isStarted;n&&r.start();for(let a of e){let o=yo(a)?H(a):a;s.addEffects(o)}n&&H(he).dispatch(Ua())}}])}var Ce=class i{actions$=H(ae);projectService=H(rt);constructor(){}loadProjects$=w(()=>this.actions$.pipe(fr(e=>console.log("Action passing through:",e.type)),J(e=>e.type==="[Project] Load Projects"),fr(()=>console.log("Action matched by string literal")),k(()=>M(st({projects:[]})))));static \u0275fac=function(t){return new(t||i)};static \u0275prov=j({token:i,factory:i.\u0275fac})};var Ni=class i{constructor(e,t){this.store=e;this.projectEffects=t;console.log("App component initialized, ensuring effects are registered")}ngOnInit(){}static \u0275fac=function(t){return new(t||i)(hr(he),hr(Ce))};static \u0275cmp=qs({type:i,selectors:[["app-root"]],features:[Hs([et,ln])],decls:5,vars:0,consts:[[1,"min-h-screen","bg-gray-100"],[1,"container","mx-auto","px-4","py-8"]],template:function(t,r){t&1&&(mr(0,"div",0),gr(1,"p-toast")(2,"p-confirmDialog"),mr(3,"div",1),gr(4,"router-outlet"),Qs()())},dependencies:[Xs,on,rn,dn,un,pn,fn],encapsulation:2})};var ze="PERFORM_ACTION",nl="REFRESH",Ro="RESET",wo="ROLLBACK",Ao="COMMIT",Po="SWEEP",Co="TOGGLE_ACTION",ol="SET_ACTIONS_ACTIVE",Io="JUMP_TO_STATE",No="JUMP_TO_ACTION",Lr="IMPORT_STATE",Oo="LOCK_CHANGES",Do="PAUSE_RECORDING",Ie=class{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=ze,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ar=class{constructor(){this.type=nl}},Pr=class{constructor(e){this.timestamp=e,this.type=Ro}},Cr=class{constructor(e){this.timestamp=e,this.type=wo}},Ir=class{constructor(e){this.timestamp=e,this.type=Ao}},Nr=class{constructor(){this.type=Po}},Or=class{constructor(e){this.id=e,this.type=Co}};var Dr=class{constructor(e){this.index=e,this.type=Io}},jr=class{constructor(e){this.actionId=e,this.type=No}},kr=class{constructor(e){this.nextLiftedState=e,this.type=Lr}},$r=class{constructor(e){this.status=e,this.type=Oo}},Vr=class{constructor(e){this.status=e,this.type=Do}};var ki=new Q("@ngrx/store-devtools Options"),_o=new Q("@ngrx/store-devtools Initial Config");function jo(){return null}var al="NgRx Store DevTools";function ll(i){let e={maxAge:!1,monitor:jo,actionSanitizer:void 0,stateSanitizer:void 0,name:al,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof i=="function"?i():i,r=t.logOnly?{pause:!0,export:!0,test:!0}:!1,s=t.features||r||e.features;s.import===!0&&(s.import="custom");let n=Object.assign({},e,{features:s},t);if(n.maxAge&&n.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${n.maxAge}`);return n}function bo(i,e){return i.filter(t=>e.indexOf(t)<0)}function ko(i){let{computedStates:e,currentStateIndex:t}=i;if(t>=e.length){let{state:s}=e[e.length-1];return s}let{state:r}=e[t];return r}function Le(i){return new Ie(i,+Date.now())}function cl(i,e){return Object.keys(e).reduce((t,r)=>{let s=Number(r);return t[s]=$o(i,e[s],s),t},{})}function $o(i,e,t){return f(u({},e),{action:i(e.action,t)})}function ul(i,e){return e.map((t,r)=>({state:Vo(i,t.state,r),error:t.error}))}function Vo(i,e,t){return i(e,t)}function xo(i){return i.predicate||i.actionsSafelist||i.actionsBlocklist}function dl(i,e,t,r){let s=[],n={},a=[];return i.stagedActionIds.forEach((o,c)=>{let l=i.actionsById[o];l&&(c&&zr(i.computedStates[c],l,e,t,r)||(n[o]=l,s.push(o),a.push(i.computedStates[c])))}),f(u({},i),{stagedActionIds:s,actionsById:n,computedStates:a})}function zr(i,e,t,r,s){let n=t&&!t(i,e.action),a=r&&!e.action.type.match(r.map(c=>To(c)).join("|")),o=s&&e.action.type.match(s.map(c=>To(c)).join("|"));return n||a||o}function To(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Lo(i){return{ngZone:i?H(Ze):null,connectInZone:i}}var $i=(()=>{class i extends tt{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=Bs(i)))(s||i)}})()}static{this.\u0275prov=j({token:i,factory:i.\u0275fac})}}return i})(),Oi={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},xr=new Q("@ngrx/store-devtools Redux Devtools Extension"),zo=(()=>{class i{constructor(t,r,s){this.config=r,this.dispatcher=s,this.zoneConfig=Lo(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,r){if(this.devtoolsExtension)if(t.type===ze){if(r.isLocked||r.isPaused)return;let s=ko(r);if(xo(this.config)&&zr(s,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let n=this.config.stateSanitizer?Vo(this.config.stateSanitizer,s,r.currentStateIndex):s,a=this.config.actionSanitizer?$o(this.config.actionSanitizer,t,r.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,n))}else{let s=f(u({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?cl(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?ul(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,s,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new $e(t=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(s=>t.next(s)),r.unsubscribe}):Is}createActionStreams(){let t=this.createChangesObservable().pipe(Ls()),r=t.pipe(J(l=>l.type===Oi.START)),s=t.pipe(J(l=>l.type===Oi.STOP)),n=t.pipe(J(l=>l.type===Oi.DISPATCH),T(l=>this.unwrapAction(l.payload)),ur(l=>l.type===Lr?this.dispatcher.pipe(J(h=>h.type===Tr),Os(1e3),Ds(1e3),T(()=>l),R(()=>M(l)),We(1)):M(l))),o=t.pipe(J(l=>l.type===Oi.ACTION),T(l=>this.unwrapAction(l.payload))).pipe(Xe(s)),c=n.pipe(Xe(s));this.start$=r.pipe(Xe(s)),this.actions$=this.start$.pipe(k(()=>o)),this.liftedActions$=this.start$.pipe(k(()=>c))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let r={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(r.maxAge=t.maxAge),r}sendToReduxDevtools(t){try{t()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}static{this.\u0275fac=function(r){return new(r||i)(b(xr),b(ki),b($i))}}static{this.\u0275prov=j({token:i,factory:i.\u0275fac})}}return i})(),ji={type:br},fl="@ngrx/store-devtools/recompute",pl={type:fl};function Bo(i,e,t,r,s){if(r)return{state:t,error:"Interrupted by an error up the chain"};let n=t,a;try{n=i(t,e)}catch(o){a=o.toString(),s.handleError(o)}return{state:n,error:a}}function Di(i,e,t,r,s,n,a,o,c){if(e>=i.length&&i.length===n.length)return i;let l=i.slice(0,e),h=n.length-(c?1:0);for(let d=e;d<h;d++){let y=n[d],S=s[y].action,m=l[d-1],g=m?m.state:r,P=m?m.error:void 0,$=a.indexOf(y)>-1?m:Bo(t,S,g,P,o);l.push($)}return c&&l.push(i[i.length-1]),l}function hl(i,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:Le(ji)},stagedActionIds:[0],skippedActionIds:[],committedState:i,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function ml(i,e,t,r,s={}){return n=>(a,o)=>{let{monitorState:c,actionsById:l,nextActionId:h,stagedActionIds:d,skippedActionIds:y,committedState:S,currentStateIndex:m,computedStates:g,isLocked:P,isPaused:C}=a||e;a||(l=Object.create(l));function $(V){let N=V,z=d.slice(1,N+1);for(let L=0;L<z.length;L++)if(g[L+1].error){N=L,z=d.slice(1,N+1);break}else delete l[z[L]];y=y.filter(L=>z.indexOf(L)===-1),d=[0,...d.slice(N+1)],S=g[N].state,g=g.slice(N),m=m>N?m-N:0}function x(){l={0:Le(ji)},h=1,d=[0],y=[],S=g[m].state,m=0,g=[]}let F=0;switch(o.type){case Oo:{P=o.status,F=1/0;break}case Do:{C=o.status,C?(d=[...d,h],l[h]=new Ie({type:"@ngrx/devtools/pause"},+Date.now()),h++,F=d.length-1,g=g.concat(g[g.length-1]),m===d.length-2&&m++,F=1/0):x();break}case Ro:{l={0:Le(ji)},h=1,d=[0],y=[],S=i,m=0,g=[];break}case Ao:{x();break}case wo:{l={0:Le(ji)},h=1,d=[0],y=[],m=0,g=[];break}case Co:{let{id:V}=o;y.indexOf(V)===-1?y=[V,...y]:y=y.filter(z=>z!==V),F=d.indexOf(V);break}case ol:{let{start:V,end:N,active:z}=o,L=[];for(let te=V;te<N;te++)L.push(te);z?y=bo(y,L):y=[...y,...L],F=d.indexOf(V);break}case Io:{m=o.index,F=1/0;break}case No:{let V=d.indexOf(o.actionId);V!==-1&&(m=V),F=1/0;break}case Po:{d=bo(d,y),y=[],m=Math.min(m,d.length-1);break}case ze:{if(P)return a||e;if(C||a&&zr(a.computedStates[m],o,s.predicate,s.actionsSafelist,s.actionsBlocklist)){let N=g[g.length-1];g=[...g.slice(0,-1),Bo(n,o.action,N.state,N.error,t)],F=1/0;break}s.maxAge&&d.length===s.maxAge&&$(1),m===d.length-1&&m++;let V=h++;l[V]=o,d=[...d,V],F=d.length-1;break}case Lr:{({monitorState:c,actionsById:l,nextActionId:h,stagedActionIds:d,skippedActionIds:y,committedState:S,currentStateIndex:m,computedStates:g,isLocked:P,isPaused:C}=o.nextLiftedState);break}case br:{F=0,s.maxAge&&d.length>s.maxAge&&(g=Di(g,F,n,S,l,d,y,t,C),$(d.length-s.maxAge),F=1/0);break}case Tr:{if(g.filter(N=>N.error).length>0)F=0,s.maxAge&&d.length>s.maxAge&&(g=Di(g,F,n,S,l,d,y,t,C),$(d.length-s.maxAge),F=1/0);else{if(!C&&!P){m===d.length-1&&m++;let N=h++;l[N]=new Ie(o,+Date.now()),d=[...d,N],F=d.length-1,g=Di(g,F,n,S,l,d,y,t,C)}g=g.map(N=>f(u({},N),{state:n(N.state,pl)})),m=d.length-1,s.maxAge&&d.length>s.maxAge&&$(d.length-s.maxAge),F=1/0}break}default:{F=1/0;break}}return g=Di(g,F,n,S,l,d,y,t,C),c=r(c,o),{monitorState:c,actionsById:l,nextActionId:h,stagedActionIds:d,skippedActionIds:y,committedState:S,currentStateIndex:m,computedStates:g,isLocked:P,isPaused:C}}}var Fo=(()=>{class i{constructor(t,r,s,n,a,o,c,l){let h=hl(c,l.monitor),d=ml(c,h,o,l.monitor,l),y=Fe(Fe(r.asObservable().pipe(zs(1)),n.actions$).pipe(T(Le)),t,n.liftedActions$).pipe(Ns(Cs)),S=s.pipe(T(d)),m=Lo(l.connectInZone),g=new Ps(1);this.liftedStateSubscription=y.pipe(Ve(S),Mo(m),xs(({state:$},[x,F])=>{let V=F($,x);return x.type!==ze&&xo(l)&&(V=dl(V,l.predicate,l.actionsSafelist,l.actionsBlocklist)),n.notify(x,V),{state:V,action:x}},{state:h,action:null})).subscribe(({state:$,action:x})=>{if(g.next($),x.type===ze){let F=x.action;a.next(F)}}),this.extensionStartSubscription=n.start$.pipe(Mo(m)).subscribe(()=>{this.refresh()});let P=g.asObservable(),C=P.pipe(T(ko));Object.defineProperty(C,"state",{value:hn(C,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=P,this.state=C}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new Ie(t,+Date.now()))}refresh(){this.dispatch(new Ar)}reset(){this.dispatch(new Pr(+Date.now()))}rollback(){this.dispatch(new Cr(+Date.now()))}commit(){this.dispatch(new Ir(+Date.now()))}sweep(){this.dispatch(new Nr)}toggleAction(t){this.dispatch(new Or(t))}jumpToAction(t){this.dispatch(new jr(t))}jumpToState(t){this.dispatch(new Dr(t))}importState(t){this.dispatch(new kr(t))}lockChanges(t){this.dispatch(new $r(t))}pauseRecording(t){this.dispatch(new Vr(t))}static{this.\u0275fac=function(r){return new(r||i)(b($i),b(tt),b(Sn),b(zo),b(it),b(Re),b(mn),b(ki))}}static{this.\u0275prov=j({token:i,factory:i.\u0275fac})}}return i})();function Mo({ngZone:i,connectInZone:e}){return t=>e?new $e(r=>t.subscribe({next:s=>i.run(()=>r.next(s)),error:s=>i.run(()=>r.error(s)),complete:()=>i.run(()=>r.complete())})):t}var gl=new Q("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function yl(i,e){return!!i||e.monitor!==jo}function El(){let i="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[i]<"u"?window[i]:null}function Sl(i){return i.state}function Br(i={}){return Me([zo,$i,Fo,{provide:_o,useValue:i},{provide:gl,deps:[xr,ki],useFactory:yl},{provide:xr,useFactory:El},{provide:ki,deps:[_o],useFactory:ll},{provide:_n,deps:[Fo],useFactory:Sl},{provide:vn,useExisting:$i}])}var Uo=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"ngrx-diagnostic",loadComponent:()=>import("./chunk-2VVUQZHO.js").then(i=>i.NgRxDiagnosticComponent)},{path:"diagnostic",loadComponent:()=>import("./chunk-3L5UHIAP.js").then(i=>i.DiagnosticComponent)},{path:"login",loadComponent:()=>import("./chunk-26EDNW3N.js").then(i=>i.LoginComponent)},{path:"projects",loadComponent:()=>import("./chunk-UHBH4XW5.js").then(i=>i.ProjectListComponent)},{path:"projects/:id",loadComponent:()=>import("./chunk-DYU4HONF.js").then(i=>i.ProjectDetailComponent)},{path:"roots/:id",loadComponent:()=>import("./chunk-TZAKC7YT.js").then(i=>i.RootDetailComponent)},{path:"messages/:id",loadComponent:()=>import("./chunk-PBUS2LPZ.js").then(i=>i.MessageDetailComponent)},{path:"fields/:id",loadComponent:()=>import("./chunk-4326P4HT.js").then(i=>i.FieldDetailComponent)},{path:"**",redirectTo:"projects"}];function Ko(i){return new D(3e3,!1)}function vl(){return new D(3100,!1)}function _l(){return new D(3101,!1)}function bl(i){return new D(3001,!1)}function Tl(i){return new D(3003,!1)}function Fl(i){return new D(3004,!1)}function Ml(i,e){return new D(3005,!1)}function Rl(){return new D(3006,!1)}function wl(){return new D(3007,!1)}function Al(i,e){return new D(3008,!1)}function Pl(i){return new D(3002,!1)}function Cl(i,e,t,r,s){return new D(3010,!1)}function Il(){return new D(3011,!1)}function Nl(){return new D(3012,!1)}function Ol(){return new D(3200,!1)}function Dl(){return new D(3202,!1)}function jl(){return new D(3013,!1)}function kl(i){return new D(3014,!1)}function $l(i){return new D(3015,!1)}function Vl(i){return new D(3016,!1)}function xl(i,e){return new D(3404,!1)}function Ll(i){return new D(3502,!1)}function zl(i){return new D(3503,!1)}function Bl(){return new D(3300,!1)}function Ul(i){return new D(3504,!1)}function Kl(i){return new D(3301,!1)}function ql(i,e){return new D(3302,!1)}function Ql(i){return new D(3303,!1)}function Hl(i,e){return new D(3400,!1)}function Gl(i){return new D(3401,!1)}function Wl(i){return new D(3402,!1)}function Xl(i,e){return new D(3505,!1)}function me(i){switch(i.length){case 0:return new we;case 1:return i[0];default:return new _r(i)}}function sa(i,e,t=new Map,r=new Map){let s=[],n=[],a=-1,o=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==a,d=h&&o||new Map;c.forEach((y,S)=>{let m=S,g=y;if(S!=="offset")switch(m=i.normalizePropertyName(m,s),g){case Je:g=t.get(S);break;case se:g=r.get(S);break;default:g=i.normalizeStyleValue(S,m,g,s);break}d.set(m,g)}),h||n.push(d),o=d,a=l}),s.length)throw Ll(s);return n}function us(i,e,t,r){switch(e){case"start":i.onStart(()=>r(t&&Ur(t,"start",i)));break;case"done":i.onDone(()=>r(t&&Ur(t,"done",i)));break;case"destroy":i.onDestroy(()=>r(t&&Ur(t,"destroy",i)));break}}function Ur(i,e,t){let r=t.totalTime,s=!!t.disabled,n=ds(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,r??i.totalTime,s),a=i._data;return a!=null&&(n._data=a),n}function ds(i,e,t,r,s="",n=0,a){return{element:i,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:n,disabled:!!a}}function Y(i,e,t){let r=i.get(e);return r||i.set(e,r=t),r}function qo(i){let e=i.indexOf(":"),t=i.substring(1,e),r=i.slice(e+1);return[t,r]}var Yl=typeof document>"u"?null:document.documentElement;function fs(i){let e=i.parentNode||i.host||null;return e===Yl?null:e}function Zl(i){return i.substring(1,6)=="ebkit"}var Ee=null,Qo=!1;function Jl(i){Ee||(Ee=ec()||{},Qo=Ee.style?"WebkitAppearance"in Ee.style:!1);let e=!0;return Ee.style&&!Zl(i)&&(e=i in Ee.style,!e&&Qo&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ee.style)),e}function ec(){return typeof document<"u"?document.body:null}function na(i,e){for(;e;){if(e===i)return!0;e=fs(e)}return!1}function oa(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let r=i.querySelector(e);return r?[r]:[]}var ps=(()=>{class i{validateStyleProperty(t){return Jl(t)}containsElement(t,r){return na(t,r)}getParentElement(t){return fs(t)}query(t,r,s){return oa(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,n,a,o=[],c){return new we(s,n)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=j({token:i,factory:i.\u0275fac})}return i})(),_e=class{static NOOP=new ps},be=class{};var tc=1e3,aa="{{",ic="}}",la="ng-enter",Wr="ng-leave",Vi="ng-trigger",Ui=".ng-trigger",Ho="ng-animating",Xr=".ng-animating";function ue(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yr(parseFloat(e[1]),e[2])}function Yr(i,e){switch(e){case"s":return i*tc;default:return i}}function Ki(i,e,t){return i.hasOwnProperty("duration")?i:rc(i,e,t)}function rc(i,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,n=0,a="";if(typeof i=="string"){let o=i.match(r);if(o===null)return e.push(Ko(i)),{duration:0,delay:0,easing:""};s=Yr(parseFloat(o[1]),o[2]);let c=o[3];c!=null&&(n=Yr(parseFloat(c),o[4]));let l=o[5];l&&(a=l)}else s=i;if(!t){let o=!1,c=e.length;s<0&&(e.push(vl()),o=!0),n<0&&(e.push(_l()),o=!0),o&&e.splice(c,0,Ko(i))}return{duration:s,delay:n,easing:a}}function sc(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function le(i,e,t){e.forEach((r,s)=>{let n=hs(s);t&&!t.has(s)&&t.set(s,i.style[n]),i.style[n]=r})}function ve(i,e){e.forEach((t,r)=>{let s=hs(r);i.style[s]=""})}function Be(i){return Array.isArray(i)?i.length==1?i[0]:an(i):i}function nc(i,e,t){let r=e.params||{},s=ca(i);s.length&&s.forEach(n=>{r.hasOwnProperty(n)||t.push(bl(n))})}var Zr=new RegExp(`${aa}\\s*(.+?)\\s*${ic}`,"g");function ca(i){let e=[];if(typeof i=="string"){let t;for(;t=Zr.exec(i);)e.push(t[1]);Zr.lastIndex=0}return e}function Ke(i,e,t){let r=`${i}`,s=r.replace(Zr,(n,a)=>{let o=e[a];return o==null&&(t.push(Tl(a)),o=""),o.toString()});return s==r?i:s}var oc=/-+([a-z0-9])/g;function hs(i){return i.replace(oc,(...e)=>e[1].toUpperCase())}function ac(i,e){return i===0||e===0}function lc(i,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((n,a)=>{r.has(a)||s.push(a),r.set(a,n)}),s.length)for(let n=1;n<e.length;n++){let a=e[n];s.forEach(o=>a.set(o,ms(i,o)))}}return e}function X(i,e,t){switch(e.type){case I.Trigger:return i.visitTrigger(e,t);case I.State:return i.visitState(e,t);case I.Transition:return i.visitTransition(e,t);case I.Sequence:return i.visitSequence(e,t);case I.Group:return i.visitGroup(e,t);case I.Animate:return i.visitAnimate(e,t);case I.Keyframes:return i.visitKeyframes(e,t);case I.Style:return i.visitStyle(e,t);case I.Reference:return i.visitReference(e,t);case I.AnimateChild:return i.visitAnimateChild(e,t);case I.AnimateRef:return i.visitAnimateRef(e,t);case I.Query:return i.visitQuery(e,t);case I.Stagger:return i.visitStagger(e,t);default:throw Fl(e.type)}}function ms(i,e){return window.getComputedStyle(i)[e]}var cc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),qi=class extends be{normalizePropertyName(e,t){return hs(e)}normalizeStyleValue(e,t,r,s){let n="",a=r.toString().trim();if(cc.has(t)&&r!==0&&r!=="0")if(typeof r=="number")n="px";else{let o=r.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&s.push(Ml(e,r))}return a+n}};var Qi="*";function uc(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(r=>dc(r,t,e)):t.push(i),t}function dc(i,e,t){if(i[0]==":"){let c=fc(i,t);if(typeof c=="function"){e.push(c);return}i=c}let r=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push($l(i)),e;let s=r[1],n=r[2],a=r[3];e.push(Go(s,a));let o=s==Qi&&a==Qi;n[0]=="<"&&!o&&e.push(Go(a,s))}function fc(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Vl(i)),"* => *"}}var xi=new Set(["true","1"]),Li=new Set(["false","0"]);function Go(i,e){let t=xi.has(i)||Li.has(i),r=xi.has(e)||Li.has(e);return(s,n)=>{let a=i==Qi||i==s,o=e==Qi||e==n;return!a&&t&&typeof s=="boolean"&&(a=s?xi.has(i):Li.has(i)),!o&&r&&typeof n=="boolean"&&(o=n?xi.has(e):Li.has(e)),a&&o}}var ua=":self",pc=new RegExp(`s*${ua}s*,?`,"g");function da(i,e,t,r){return new Jr(i).build(e,t,r)}var Wo="",Jr=class{_driver;constructor(e){this._driver=e}build(e,t,r){let s=new es(t);return this._resetContextStyleTimingState(s),X(this,Be(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector=Wo,e.collectedStyles=new Map,e.collectedStyles.set(Wo,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0,n=[],a=[];return e.name.charAt(0)=="@"&&t.errors.push(Rl()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),o.type==I.State){let c=o,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,n.push(this.visitState(c,t))}),c.name=l}else if(o.type==I.Transition){let c=this.visitTransition(o,t);r+=c.queryCount,s+=c.depCount,a.push(c)}else t.errors.push(wl())}),{type:I.Trigger,name:e.name,states:n,transitions:a,queryCount:r,depCount:s,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){let n=new Set,a=s||{};r.styles.forEach(o=>{o instanceof Map&&o.forEach(c=>{ca(c).forEach(l=>{a.hasOwnProperty(l)||n.add(l)})})}),n.size&&t.errors.push(Al(e.name,[...n.values()]))}return{type:I.State,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=X(this,Be(e.animation),t),s=uc(e.expr,t.errors);return{type:I.Transition,matchers:s,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Se(e.options)}}visitSequence(e,t){return{type:I.Sequence,steps:e.steps.map(r=>X(this,r,t)),options:Se(e.options)}}visitGroup(e,t){let r=t.currentTime,s=0,n=e.steps.map(a=>{t.currentTime=r;let o=X(this,a,t);return s=Math.max(s,t.currentTime),o});return t.currentTime=s,{type:I.Group,steps:n,options:Se(e.options)}}visitAnimate(e,t){let r=yc(e.timings,t.errors);t.currentAnimateTimings=r;let s,n=e.styles?e.styles:vr({});if(n.type==I.Keyframes)s=this.visitKeyframes(n,t);else{let a=e.styles,o=!1;if(!a){o=!0;let l={};r.easing&&(l.easing=r.easing),a=vr(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(a,t);c.isEmptyStep=o,s=c}return t.currentAnimateTimings=null,{type:I.Animate,timings:r,style:s,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of s)typeof o=="string"?o===se?r.push(o):t.errors.push(Pl(o)):r.push(new Map(Object.entries(o)));let n=!1,a=null;return r.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!n)){for(let c of o.values())if(c.toString().indexOf(aa)>=0){n=!0;break}}}),{type:I.Style,styles:r,easing:a,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,s=t.currentTime,n=t.currentTime;r&&n>0&&(n-=r.duration+r.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c),d=!0;h&&(n!=s&&n>=h.startTime&&s<=h.endTime&&(t.errors.push(Cl(c,h.startTime,h.endTime,n,s)),d=!1),n=h.startTime),d&&l.set(c,{startTime:n,endTime:s}),t.options&&nc(o,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:I.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Il()),r;let s=1,n=0,a=[],o=!1,c=!1,l=0,h=e.steps.map(C=>{let $=this._makeStyleAst(C,t),x=$.offset!=null?$.offset:gc($.styles),F=0;return x!=null&&(n++,F=$.offset=x),c=c||F<0||F>1,o=o||F<l,l=F,a.push(F),$});c&&t.errors.push(Nl()),o&&t.errors.push(Ol());let d=e.steps.length,y=0;n>0&&n<d?t.errors.push(Dl()):n==0&&(y=s/(d-1));let S=d-1,m=t.currentTime,g=t.currentAnimateTimings,P=g.duration;return h.forEach((C,$)=>{let x=y>0?$==S?1:y*$:a[$],F=x*P;t.currentTime=m+g.delay+F,g.duration=F,this._validateStyleAst(C,t),C.offset=x,r.styles.push(C)}),r}visitReference(e,t){return{type:I.Reference,animation:X(this,Be(e.animation),t),options:Se(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:I.AnimateChild,options:Se(e.options)}}visitAnimateRef(e,t){return{type:I.AnimateRef,animation:this.visitReference(e.animation,t),options:Se(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;let[n,a]=hc(e.selector);t.currentQuerySelector=r.length?r+" "+n:n,Y(t.collectedStyles,t.currentQuerySelector,new Map);let o=X(this,Be(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:I.Query,selector:n,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:o,originalSelector:e.selector,options:Se(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(jl());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ki(e.timings,t.errors,!0);return{type:I.Stagger,animation:X(this,Be(e.animation),t),timings:r,options:null}}};function hc(i){let e=!!i.split(/\s*,\s*/).find(t=>t==ua);return e&&(i=i.replace(pc,"")),i=i.replace(/@\*/g,Ui).replace(/@\w+/g,t=>Ui+"-"+t.slice(1)).replace(/:animating/g,Xr),[i,e]}function mc(i){return i?u({},i):null}var es=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function gc(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function yc(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let n=Ki(i,e).duration;return Kr(n,0,"")}let t=i;if(t.split(/\s+/).some(n=>n.charAt(0)=="{"&&n.charAt(1)=="{")){let n=Kr(0,0,"");return n.dynamic=!0,n.strValue=t,n}let s=Ki(t,e);return Kr(s.duration,s.delay,s.easing)}function Se(i){return i?(i=u({},i),i.params&&(i.params=mc(i.params))):i={},i}function Kr(i,e,t){return{duration:i,delay:e,easing:t}}function gs(i,e,t,r,s,n,a=null,o=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:n,totalTime:s+n,easing:a,subTimeline:o}}var qe=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Ec=1,Sc=":enter",vc=new RegExp(Sc,"g"),_c=":leave",bc=new RegExp(_c,"g");function fa(i,e,t,r,s,n=new Map,a=new Map,o,c,l=[]){return new ts().buildKeyframes(i,e,t,r,s,n,a,o,c,l)}var ts=class{buildKeyframes(e,t,r,s,n,a,o,c,l,h=[]){l=l||new qe;let d=new is(e,t,l,s,n,h,[]);d.options=c;let y=c.delay?ue(c.delay):0;d.currentTimeline.delayNextStep(y),d.currentTimeline.setStyles([a],null,d.errors,c),X(this,r,d);let S=d.timelines.filter(m=>m.containsAnimation());if(S.length&&o.size){let m;for(let g=S.length-1;g>=0;g--){let P=S[g];if(P.element===t){m=P;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([o],null,d.errors,c)}return S.length?S.map(m=>m.buildKeyframes()):[gs(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let s=t.createSubContext(e.options),n=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,s,s.options);n!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let s of e){let n=s?.delay;if(n){let a=typeof n=="number"?n:ue(Ke(n,s?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let n=t.currentTimeline.currentTime,a=r.duration!=null?ue(r.duration):null,o=r.delay!=null?ue(r.delay):null;return a!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,a,o);n=Math.max(n,l.duration+l.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),X(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,s=t,n=e.options;if(n&&(n.params||n.delay)&&(s=t.createSubContext(n),s.transformIntoNewTimeline(),n.delay!=null)){s.previousNode.type==I.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Hi);let a=ue(n.delay);s.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>X(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],s=t.currentTimeline.currentTime,n=e.options&&e.options.delay?ue(e.options.delay):0;e.steps.forEach(a=>{let o=t.createSubContext(e.options);n&&o.delayNextStep(n),X(this,a,o),s=Math.max(s,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,s=t.params?Ke(r,t.params,t.errors):r;return Ki(s,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());let n=e.style;n.type==I.Keyframes?this.visitKeyframes(n,t):(t.incrementTime(r.duration),this.visitStyle(n,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();let n=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(n):r.setStyles(e.styles,n,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,s=t.currentTimeline.duration,n=r.duration,o=t.createSubContext().currentTimeline;o.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;o.forwardTime(l*n),o.setStyles(c.styles,c.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(s+n),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,s=e.options||{},n=s.delay?ue(s.delay):0;n&&(t.previousNode.type===I.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Hi);let a=r,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=o.length;let c=null;o.forEach((l,h)=>{t.currentQueryIndex=h;let d=t.createSubContext(e.options,l);n&&d.delayNextStep(n),l===t.element&&(c=d.currentTimeline),X(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let y=d.currentTimeline.currentTime;a=Math.max(a,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,s=t.currentTimeline,n=e.timings,a=Math.abs(n.duration),o=a*(t.currentQueryTotal-1),c=a*t.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":c=o-c;break;case"full":c=r.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let d=h.currentTime;X(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-d+(s.startTime-r.currentTimeline.startTime)}},Hi={},is=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Hi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,s,n,a,o,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=n,this.errors=a,this.timelines=o,this.currentTimeline=c||new Gi(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,s=this.options;r.duration!=null&&(s.duration=ue(r.duration)),r.delay!=null&&(s.delay=ue(r.delay));let n=r.params;if(n){let a=s.params;a||(a=this.options.params={}),Object.keys(n).forEach(o=>{(!t||!a.hasOwnProperty(o))&&(a[o]=Ke(n[o],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){let s=t||this.element,n=new i(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(e),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(e){return this.previousNode=Hi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},n=new rs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(n),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,n,a){let o=[];if(s&&o.push(this.element),e.length>0){e=e.replace(vc,"."+this._enterClassName),e=e.replace(bc,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),o.push(...l)}return!n&&o.length==0&&a.push(kl(t)),o}},Gi=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ec,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||se),this._currentKeyframe.set(t,se);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);let n=s&&s.params||{},a=Tc(e,this._globalTimelineStyles);for(let[o,c]of a){let l=Ke(c,n,r);this._pendingStyles.set(o,l),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??se),this._updateStyle(o,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((o,c)=>{let l=new Map([...this._backFill,...o]);l.forEach((h,d)=>{h===Je?e.add(d):h===se&&t.add(d)}),r||l.set("offset",c/this.duration),s.push(l)});let n=[...e.values()],a=[...t.values()];if(r){let o=s[0],c=new Map(o);o.set("offset",0),c.set("offset",1),s=[o,c]}return gs(this.element,s,n,a,this.duration,this.startTime,this.easing,!1)}},rs=class extends Gi{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,s,n,a,o=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=n,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){let n=[],a=r+t,o=t/a,c=new Map(e[0]);c.set("offset",0),n.push(c);let l=new Map(e[0]);l.set("offset",Xo(o)),n.push(l);let h=e.length-1;for(let d=1;d<=h;d++){let y=new Map(e[d]),S=y.get("offset"),m=t+S*r;y.set("offset",Xo(m/a)),n.push(y)}r=a,t=0,s="",e=n}return gs(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}};function Xo(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function Tc(i,e){let t=new Map,r;return i.forEach(s=>{if(s==="*"){r??=e.keys();for(let n of r)t.set(n,se)}else for(let[n,a]of s)t.set(n,a)}),t}function Yo(i,e,t,r,s,n,a,o,c,l,h,d,y){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:n,toState:r,toStyles:a,timelines:o,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:d,errors:y}}var qr={},Wi=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return Fc(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return e!==void 0&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,n,a,o,c,l,h){let d=[],y=this.ast.options&&this.ast.options.params||qr,S=o&&o.params||qr,m=this.buildStyles(r,S,d),g=c&&c.params||qr,P=this.buildStyles(s,g,d),C=new Set,$=new Map,x=new Map,F=s==="void",V={params:pa(g,y),delay:this.ast.options?.delay},N=h?[]:fa(e,t,this.ast.animation,n,a,m,P,V,l,d),z=0;return N.forEach(L=>{z=Math.max(L.duration+L.delay,z)}),d.length?Yo(t,this._triggerName,r,s,F,m,P,[],[],$,x,z,d):(N.forEach(L=>{let te=L.element,Te=Y($,te,new Set);L.preStyleProps.forEach(ge=>Te.add(ge));let Ts=Y(x,te,new Set);L.postStyleProps.forEach(ge=>Ts.add(ge)),te!==t&&C.add(te)}),Yo(t,this._triggerName,r,s,F,m,P,N,[...C.values()],$,x,z))}};function Fc(i,e,t,r,s){return i.some(n=>n(e,t,r,s))}function pa(i,e){let t=u({},e);return Object.entries(i).forEach(([r,s])=>{s!=null&&(t[r]=s)}),t}var ss=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,s=pa(e,this.defaultParams);return this.styles.styles.forEach(n=>{typeof n!="string"&&n.forEach((a,o)=>{a&&(a=Ke(a,s,t));let c=this.normalizer.normalizePropertyName(o,t);a=this.normalizer.normalizeStyleValue(o,c,a,t),r.set(o,a)})}),r}};function Mc(i,e,t){return new ns(i,e,t)}var ns=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(s=>{let n=s.options&&s.options.params||{};this.states.set(s.name,new ss(s.style,n,r))}),Zo(this.states,"true","1"),Zo(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new Wi(e,s,this.states))}),this.fallbackTransition=Rc(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(a=>a.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Rc(i,e,t){let r=[(a,o)=>!0],s={type:I.Sequence,steps:[],options:null},n={type:I.Transition,animation:s,matchers:r,options:null,queryCount:0,depCount:0};return new Wi(i,n,e)}function Zo(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var wc=new qe,os=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],s=[],n=da(this._driver,t,r,s);if(r.length)throw zl(r);this._animations.set(e,n)}_buildPlayer(e,t,r){let s=e.element,n=sa(this._normalizer,e.keyframes,t,r);return this._driver.animate(s,n,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let s=[],n=this._animations.get(e),a,o=new Map;if(n?(a=fa(this._driver,t,n,la,Wr,new Map,new Map,r,wc,s),a.forEach(h=>{let d=Y(o,h.element,new Map);h.postStyleProps.forEach(y=>d.set(y,null))})):(s.push(Bl()),a=[]),s.length)throw Ul(s);o.forEach((h,d)=>{h.forEach((y,S)=>{h.set(S,this._driver.computeStyle(d,S,se))})});let c=a.map(h=>{let d=o.get(h.element);return this._buildPlayer(h,new Map,d)}),l=me(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Kl(e);return t}listen(e,t,r,s){let n=ds(t,"","","");return us(this._getPlayer(e),r,n,s),()=>{}}command(e,t,r,s){if(r=="register"){this.register(e,s[0]);return}if(r=="create"){let a=s[0]||{};this.create(e,t,a);return}let n=this._getPlayer(e);switch(r){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e);break}}},Jo="ng-animate-queued",Ac=".ng-animate-queued",Qr="ng-animate-disabled",Pc=".ng-animate-disabled",Cc="ng-star-inserted",Ic=".ng-star-inserted",Nc=[],ha={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ie="__ng_removed",Qe=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),s=r?e.value:e;if(this.value=jc(s),r){let n=e,{value:a}=n,o=ws(n,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(s=>{r[s]==null&&(r[s]=t[s])})}}},Ue="void",Hr=new Qe(Ue),as=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,ee(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw ql(r,t);if(r==null||r.length==0)throw Ql(t);if(!kc(r))throw Hl(r,t);let n=Y(this._elementListeners,e,[]),a={name:t,phase:r,callback:s};n.push(a);let o=Y(this._engine.statesByElement,e,new Map);return o.has(t)||(ee(e,Vi),ee(e,Vi+"-"+t),o.set(t,Hr)),()=>{this._engine.afterFlush(()=>{let c=n.indexOf(a);c>=0&&n.splice(c,1),this._triggers.has(t)||o.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Gl(e);return t}trigger(e,t,r,s=!0){let n=this._getTrigger(t),a=new He(this.id,t,e),o=this._engine.statesByElement.get(e);o||(ee(e,Vi),ee(e,Vi+"-"+t),this._engine.statesByElement.set(e,o=new Map));let c=o.get(t),l=new Qe(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),o.set(t,l),c||(c=Hr),!(l.value===Ue)&&c.value===l.value){if(!xc(c.params,l.params)){let g=[],P=n.matchStyles(c.value,c.params,g),C=n.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ve(e,P),le(e,C)})}return}let y=Y(this._engine.playersByElement,e,[]);y.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let S=n.matchTransition(c.value,l.value,e,l.params),m=!1;if(!S){if(!s)return;S=n.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:S,fromState:c,toState:l,player:a,isFallbackTransition:m}),m||(ee(e,Jo),a.onStart(()=>{Ne(e,Jo)})),a.onDone(()=>{let g=this.players.indexOf(a);g>=0&&this.players.splice(g,1);let P=this._engine.playersByElement.get(e);if(P){let C=P.indexOf(a);C>=0&&P.splice(C,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Ui,!0);r.forEach(s=>{if(s[ie])return;let n=this._engine.fetchNamespacesByElement(s);n.size?n.forEach(a=>a.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){let n=this._engine.statesByElement.get(e),a=new Map;if(n){let o=[];if(n.forEach((c,l)=>{if(a.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,Ue,s);h&&o.push(h)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&me(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let s=new Set;t.forEach(n=>{let a=n.name;if(s.has(a))return;s.add(a);let c=this._triggers.get(a).fallbackTransition,l=r.get(a)||Hr,h=new Qe(Ue),d=new He(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:c,fromState:l,toState:h,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){let n=r.players.length?r.playersByQueriedElement.get(e):[];if(n&&n.length)s=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{let n=e[ie];(!n||n===ha)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ee(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let s=r.player;if(s.destroyed)return;let n=r.element,a=this._elementListeners.get(n);a&&a.forEach(o=>{if(o.name==r.triggerName){let c=ds(n,r.triggerName,r.fromState.value,r.toState.value);c._data=e,us(r.player,o.phase,c,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{let n=r.transition.ast.depCount,a=s.transition.ast.depCount;return n==0||a==0?n-a:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ls=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new as(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,o=this.driver.getParentElement(t);for(;o;){let c=s.get(o);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),a=!0;break}o=this.driver.getParentElement(o)}a||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let s of r.values())if(s.namespaceId){let n=this._fetchNamespace(s.namespaceId);n&&t.add(n)}}return t}trigger(e,t,r,s){if(zi(t)){let n=this._fetchNamespace(e);if(n)return n.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!zi(t))return;let n=t[ie];if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ee(e,Qr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ne(e,Qr))}removeNode(e,t,r){if(zi(t)){let s=e?this._fetchNamespace(e):null;s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,s,n){this.collectedLeaveElements.push(t),t[ie]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:n}}listen(e,t,r,s,n){return zi(t)?this._fetchNamespace(e).listen(t,r,s,n):()=>{}}_buildInstruction(e,t,r,s,n){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,n)}destroyInnerAnimations(e){let t=this.driver.query(e,Ui,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Xr,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return me(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ie];if(t&&t.setForRemoval){if(e[ie]=ha,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Qr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Pc,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let s=this.collectedEnterElements[r];ee(s,Cc)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let s=this.collectedLeaveElements[r];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?me(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw Wl(e)}_flushAnimations(e,t){let r=new qe,s=[],n=new Map,a=[],o=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(E=>{h.add(E);let v=this.driver.query(E,Ac,!0);for(let _=0;_<v.length;_++)h.add(v[_])});let d=this.bodyNode,y=Array.from(this.statesByElement.keys()),S=ia(y,this.collectedEnterElements),m=new Map,g=0;S.forEach((E,v)=>{let _=la+g++;m.set(v,_),E.forEach(O=>ee(O,_))});let P=[],C=new Set,$=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){let v=this.collectedLeaveElements[E],_=v[ie];_&&_.setForRemoval&&(P.push(v),C.add(v),_.hasAnimation?this.driver.query(v,Ic,!0).forEach(O=>C.add(O)):$.add(v))}let x=new Map,F=ia(y,Array.from(C));F.forEach((E,v)=>{let _=Wr+g++;x.set(v,_),E.forEach(O=>ee(O,_))}),e.push(()=>{S.forEach((E,v)=>{let _=m.get(v);E.forEach(O=>Ne(O,_))}),F.forEach((E,v)=>{let _=x.get(v);E.forEach(O=>Ne(O,_))}),P.forEach(E=>{this.processLeaveNode(E)})});let V=[],N=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach(_=>{let O=_.player,K=_.element;if(V.push(O),this.collectedEnterElements.length){let q=K[ie];if(q&&q.setForMove){if(q.previousTriggersValues&&q.previousTriggersValues.has(_.triggerName)){let ye=q.previousTriggersValues.get(_.triggerName),Z=this.statesByElement.get(_.element);if(Z&&Z.has(_.triggerName)){let Ge=Z.get(_.triggerName);Ge.value=ye,Z.set(_.triggerName,Ge)}}O.destroy();return}}let re=!d||!this.driver.containsElement(d,K),W=x.get(K),de=m.get(K),B=this._buildInstruction(_,r,de,W,re);if(B.errors&&B.errors.length){N.push(B);return}if(re){O.onStart(()=>ve(K,B.fromStyles)),O.onDestroy(()=>le(K,B.toStyles)),s.push(O);return}if(_.isFallbackTransition){O.onStart(()=>ve(K,B.fromStyles)),O.onDestroy(()=>le(K,B.toStyles)),s.push(O);return}let Rs=[];B.timelines.forEach(q=>{q.stretchStartingKeyframe=!0,this.disabledNodes.has(q.element)||Rs.push(q)}),B.timelines=Rs,r.append(K,B.timelines);let Oa={instruction:B,player:O,element:K};a.push(Oa),B.queriedElements.forEach(q=>Y(o,q,[]).push(O)),B.preStyleProps.forEach((q,ye)=>{if(q.size){let Z=c.get(ye);Z||c.set(ye,Z=new Set),q.forEach((Ge,cr)=>Z.add(cr))}}),B.postStyleProps.forEach((q,ye)=>{let Z=l.get(ye);Z||l.set(ye,Z=new Set),q.forEach((Ge,cr)=>Z.add(cr))})});if(N.length){let E=[];N.forEach(v=>{E.push(Xl(v.triggerName,v.errors))}),V.forEach(v=>v.destroy()),this.reportError(E)}let z=new Map,L=new Map;a.forEach(E=>{let v=E.element;r.has(v)&&(L.set(v,v),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,z))}),s.forEach(E=>{let v=E.element;this._getPreviousPlayers(v,!1,E.namespaceId,E.triggerName,null).forEach(O=>{Y(z,v,[]).push(O),O.destroy()})});let te=P.filter(E=>ra(E,c,l)),Te=new Map;ta(Te,this.driver,$,l,se).forEach(E=>{ra(E,c,l)&&te.push(E)});let ge=new Map;S.forEach((E,v)=>{ta(ge,this.driver,new Set(E),c,Je)}),te.forEach(E=>{let v=Te.get(E),_=ge.get(E);Te.set(E,new Map([...v?.entries()??[],..._?.entries()??[]]))});let lr=[],Fs=[],Ms={};a.forEach(E=>{let{element:v,player:_,instruction:O}=E;if(r.has(v)){if(h.has(v)){_.onDestroy(()=>le(v,O.toStyles)),_.disabled=!0,_.overrideTotalTime(O.totalTime),s.push(_);return}let K=Ms;if(L.size>1){let W=v,de=[];for(;W=W.parentNode;){let B=L.get(W);if(B){K=B;break}de.push(W)}de.forEach(B=>L.set(B,K))}let re=this._buildAnimation(_.namespaceId,O,z,n,ge,Te);if(_.setRealPlayer(re),K===Ms)lr.push(_);else{let W=this.playersByElement.get(K);W&&W.length&&(_.parentPlayer=me(W)),s.push(_)}}else ve(v,O.fromStyles),_.onDestroy(()=>le(v,O.toStyles)),Fs.push(_),h.has(v)&&s.push(_)}),Fs.forEach(E=>{let v=n.get(E.element);if(v&&v.length){let _=me(v);E.setRealPlayer(_)}}),s.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<P.length;E++){let v=P[E],_=v[ie];if(Ne(v,Wr),_&&_.hasAnimation)continue;let O=[];if(o.size){let re=o.get(v);re&&re.length&&O.push(...re);let W=this.driver.query(v,Xr,!0);for(let de=0;de<W.length;de++){let B=o.get(W[de]);B&&B.length&&O.push(...B)}}let K=O.filter(re=>!re.destroyed);K.length?$c(this,v,K):this.processLeaveNode(v)}return P.length=0,lr.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();let v=this.players.indexOf(E);this.players.splice(v,1)}),E.play()}),lr}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,n){let a=[];if(t){let o=this.playersByQueriedElement.get(e);o&&(a=o)}else{let o=this.playersByElement.get(e);if(o){let c=!n||n==Ue;o.forEach(l=>{l.queued||!c&&l.triggerName!=s||a.push(l)})}}return(r||s)&&(a=a.filter(o=>!(r&&r!=o.namespaceId||s&&s!=o.triggerName))),a}_beforeAnimationBuild(e,t,r){let s=t.triggerName,n=t.element,a=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:s;for(let c of t.timelines){let l=c.element,h=l!==n,d=Y(r,l,[]);this._getPreviousPlayers(l,h,a,o,t.toState).forEach(S=>{let m=S.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),S.destroy(),d.push(S)})}ve(n,t.fromStyles)}_buildAnimation(e,t,r,s,n,a){let o=t.triggerName,c=t.element,l=[],h=new Set,d=new Set,y=t.timelines.map(m=>{let g=m.element;h.add(g);let P=g[ie];if(P&&P.removedBeforeQueried)return new we(m.duration,m.delay);let C=g!==c,$=Vc((r.get(g)||Nc).map(z=>z.getRealPlayer())).filter(z=>{let L=z;return L.element?L.element===g:!1}),x=n.get(g),F=a.get(g),V=sa(this._normalizer,m.keyframes,x,F),N=this._buildPlayer(m,V,$);if(m.subTimeline&&s&&d.add(g),C){let z=new He(e,o,g);z.setRealPlayer(N),l.push(z)}return N});l.forEach(m=>{Y(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>Dc(this.playersByQueriedElement,m.element,m))}),h.forEach(m=>ee(m,Ho));let S=me(y);return S.onDestroy(()=>{h.forEach(m=>Ne(m,Ho)),le(c,t.toStyles)}),d.forEach(m=>{Y(s,m,[]).push(S)}),S}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new we(e.duration,e.delay)}},He=class{namespaceId;triggerName;element;_player=new we;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>us(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Y(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Dc(i,e,t){let r=i.get(e);if(r){if(r.length){let s=r.indexOf(t);r.splice(s,1)}r.length==0&&i.delete(e)}return r}function jc(i){return i??null}function zi(i){return i&&i.nodeType===1}function kc(i){return i=="start"||i=="done"}function ea(i,e){let t=i.style.display;return i.style.display=e??"none",t}function ta(i,e,t,r,s){let n=[];t.forEach(c=>n.push(ea(c)));let a=[];r.forEach((c,l)=>{let h=new Map;c.forEach(d=>{let y=e.computeStyle(l,d,s);h.set(d,y),(!y||y.length==0)&&(l[ie]=Oc,a.push(l))}),i.set(l,h)});let o=0;return t.forEach(c=>ea(c,n[o++])),a}function ia(i,e){let t=new Map;if(i.forEach(o=>t.set(o,[])),e.length==0)return t;let r=1,s=new Set(e),n=new Map;function a(o){if(!o)return r;let c=n.get(o);if(c)return c;let l=o.parentNode;return t.has(l)?c=l:s.has(l)?c=r:c=a(l),n.set(o,c),c}return e.forEach(o=>{let c=a(o);c!==r&&t.get(c).push(o)}),t}function ee(i,e){i.classList?.add(e)}function Ne(i,e){i.classList?.remove(e)}function $c(i,e,t){me(t).onDone(()=>i.processLeaveNode(e))}function Vc(i){let e=[];return ma(i,e),e}function ma(i,e){for(let t=0;t<i.length;t++){let r=i[t];r instanceof _r?ma(r.players,e):e.push(r)}}function xc(i,e){let t=Object.keys(i),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){let n=t[s];if(!e.hasOwnProperty(n)||i[n]!==e[n])return!1}return!0}function ra(i,e,t){let r=t.get(i);if(!r)return!1;let s=e.get(i);return s?r.forEach(n=>s.add(n)):e.set(i,r),t.delete(i),!0}var Oe=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new ls(e.body,t,r),this._timelineEngine=new os(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,n)=>this.onRemovalComplete(s,n)}registerTrigger(e,t,r,s,n){let a=e+"-"+s,o=this._triggerCache[a];if(!o){let c=[],l=[],h=da(this._driver,n,c,l);if(c.length)throw xl(s,c);o=Mc(s,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,s,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if(r.charAt(0)=="@"){let[n,a]=qo(r),o=s;this._timelineEngine.command(n,t,a,o)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,n){if(r.charAt(0)=="@"){let[a,o]=qo(r);return this._timelineEngine.listen(a,t,o,n)}return this._transitionEngine.listen(e,t,r,s,n)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Lc(i,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Gr(e[0]),e.length>1&&(r=Gr(e[e.length-1]))):e instanceof Map&&(t=Gr(e)),t||r?new zc(i,t,r):null}var zc=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s;let n=i.initialStylesByElement.get(t);n||i.initialStylesByElement.set(t,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(le(this._element,this._initialStyles),this._endStyles&&(le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(ve(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ve(this._element,this._endStyles),this._endStyles=null),le(this._element,this._initialStyles),this._state=3)}}return i})();function Gr(i){let e=null;return i.forEach((t,r)=>{Bc(r)&&(e=e||new Map,e.set(r,t))}),e}function Bc(i){return i==="display"||i==="position"}var Xi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{s!=="offset"&&e.set(s,this._finished?r:ms(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Yi=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return na(e,t)}getParentElement(e){return fs(e)}query(e,t,r){return oa(e,t,r)}computeStyle(e,t,r){return ms(e,t)}animate(e,t,r,s,n,a=[]){let o=s==0?"both":"forwards",c={duration:r,delay:s,fill:o};n&&(c.easing=n);let l=new Map,h=a.filter(S=>S instanceof Xi);ac(r,s)&&h.forEach(S=>{S.currentSnapshot.forEach((m,g)=>l.set(g,m))});let d=sc(t).map(S=>new Map(S));d=lc(e,d,l);let y=Lc(e,d);return new Xi(e,d,c,y)}};var Bi="@",ga="@.disabled",Zi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,s){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Bi&&t==ga?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,s){return this.delegate.listen(e,t,r,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},cs=class extends Zi{factory;constructor(e,t,r,s,n){super(t,r,s,n),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Bi?t.charAt(1)=="."&&t==ga?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,s){if(t.charAt(0)==Bi){let n=Uc(e),a=t.slice(1),o="";return a.charAt(0)!=Bi&&([a,o]=Kc(a)),this.engine.listen(this.namespaceId,n,a,o,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,s)}};function Uc(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function Kc(i){let e=i.indexOf("."),t=i.substring(0,e),r=i.slice(e+1);return[t,r]}var Ji=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(s,n)=>{n?.removeChild(null,s)}}createRenderer(e,t){let r="",s=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,h=l.get(s);if(!h){let d=()=>l.delete(s);h=new Zi(r,s,this.engine,d),l.set(s,h)}return h}let n=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let o=l=>{Array.isArray(l)?l.forEach(o):this.engine.registerTrigger(n,a,e,l.name,l)};return t.data.animation.forEach(o),new cs(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(n=>{let[a,o]=n;a(o)}),this._animationCallbacksBuffer=[]})}),s.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Qc=(()=>{class i extends Oe{constructor(t,r,s){super(t,r,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||i)(b(Ws),b(_e),b(be))};static \u0275prov=j({token:i,factory:i.\u0275fac})}return i})();function Hc(){return new qi}function Gc(i,e,t){return new Ji(i,e,t)}var ya=[{provide:be,useFactory:Hc},{provide:Oe,useClass:Qc},{provide:Ks,useFactory:Gc,deps:[Zs,Oe,Ze]}],Sd=[{provide:_e,useClass:ps},{provide:pr,useValue:"NoopAnimations"},...ya],Wc=[{provide:_e,useFactory:()=>new Yi},{provide:pr,useFactory:()=>"BrowserAnimations"},...ya];function Ea(){return Us("NgEagerAnimations"),[...Wc]}var ba="@ngrx/router-store/request",Cd=pe(ba,Ae()),ys="@ngrx/router-store/navigation",Id=pe(ys,Ae()),Es="@ngrx/router-store/cancel",Nd=pe(Es,Ae()),Ss="@ngrx/router-store/error",Od=pe(Ss,Ae()),Ta="@ngrx/router-store/navigated",Dd=pe(Ta,Ae());function Fa(i,e){let t=e;switch(t.type){case ys:case Ss:case Es:return{state:t.payload.routerState,navigationId:t.payload.event.id};default:return i}}var er=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let t=e.children.map(r=>this.serializeRoute(r));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:t[0],children:t}}},vs=function(i){return i[i.PreActivation=1]="PreActivation",i[i.PostActivation=2]="PostActivation",i}(vs||{}),Xc="router",Sa=new Q("@ngrx/router-store Internal Configuration"),Ma=new Q("@ngrx/router-store Configuration"),_s=function(i){return i[i.Full=0]="Full",i[i.Minimal=1]="Minimal",i}(_s||{});function Yc(i){return u({stateKey:Xc,serializer:er,navigationActionTiming:vs.PreActivation},i)}var tr=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let t=e.children.map(r=>this.serializeRoute(r));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}},ir=class{},ce=function(i){return i[i.NONE=1]="NONE",i[i.ROUTER=2]="ROUTER",i[i.STORE=3]="STORE",i}(ce||{}),va=(()=>{class i{constructor(t,r,s,n,a,o){this.store=t,this.router=r,this.serializer=s,this.errorHandler=n,this.config=a,this.activeRuntimeChecks=o,this.lastEvent=null,this.routerState=null,this.trigger=ce.NONE,this.stateKey=this.config.stateKey,!Tn()&&xe()&&(o?.strictActionSerializability||o?.strictStateSerializability)&&this.serializer instanceof tr&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(bn(this.stateKey),Ve(this.store)).subscribe(([t,r])=>{this.navigateIfNeeded(t,r)})}navigateIfNeeded(t,r){if(!t||!t.state||this.trigger===ce.ROUTER||this.lastEvent instanceof yr)return;let s=t.state.url;Zc(this.router.url,s)||(this.storeState=r,this.trigger=ce.STORE,this.router.navigateByUrl(s).catch(n=>{this.errorHandler.handleError(n)}))}setUpRouterEventsListener(){let t=this.config.navigationActionTiming===vs.PostActivation,r;this.router.events.pipe(Ve(this.store)).subscribe(([s,n])=>{this.lastEvent=s,s instanceof yr?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==ce.STORE&&(this.storeState=n,this.dispatchRouterRequest(s))):s instanceof Sr?(r=s,!t&&this.trigger!==ce.STORE&&this.dispatchRouterNavigation(s)):s instanceof tn?(this.dispatchRouterCancel(s),this.reset()):s instanceof Er?(this.dispatchRouterError(s),this.reset()):s instanceof en&&(this.trigger!==ce.STORE&&(t&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(s)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(ba,{event:t})}dispatchRouterNavigation(t){let r=this.serializer.serialize(t.state);this.dispatchRouterAction(ys,{routerState:r,event:new Sr(t.id,t.url,t.urlAfterRedirects,r)})}dispatchRouterCancel(t){this.dispatchRouterAction(Es,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(Ss,{storeState:this.storeState,event:new Er(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Ta,{event:t,routerState:r})}dispatchRouterAction(t,r){this.trigger=ce.ROUTER;try{this.store.dispatch({type:t,payload:f(u({routerState:this.routerState},r),{event:this.config.routerState===_s.Full?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=ce.NONE}}reset(){this.trigger=ce.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(r){return new(r||i)(b(he),b(sn),b(ir),b(Re),b(Ma),b(gn))}}static{this.\u0275prov=j({token:i,factory:i.\u0275fac})}}return i})();function Zc(i,e){return _a(i)===_a(e)}function _a(i){return i?.length>0&&i[i.length-1]==="/"?i.substring(0,i.length-1):i}function Ra(i={}){return Me([{provide:Sa,useValue:i},{provide:Ma,useFactory:Yc,deps:[Sa]},{provide:ir,useClass:i.serializer?i.serializer:i.routerState===_s.Full?tr:er},{provide:Ye,multi:!0,useFactory(){return()=>H(va)}},va])}var De=class i{constructor(e){this.http=e}apiUrl=`${oe.apiUrl}/api/enumvalues`;getEnumValues(){return this.http.get(this.apiUrl)}getEnumValue(e){return this.http.get(`${this.apiUrl}/${e}`)}getEnumValuesByField(e){return this.http.get(`${this.apiUrl}/field/${e}`)}createEnumValue(e){return this.http.post(this.apiUrl,e)}updateEnumValue(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}deleteEnumValue(e){return this.http.delete(`${this.apiUrl}/${e}`)}searchEnumValues(e){return this.http.get(`${this.apiUrl}/search?term=${e}`)}static \u0275fac=function(t){return new(t||i)(b(fe))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var rr=class i{constructor(e,t){this.actions$=e;this.enumValueService=t}loadEnumValues$=w(()=>this.actions$?.pipe(A(qt),k(()=>this.enumValueService.getEnumValues().pipe(T(e=>Qt({enumValues:e})),R(e=>M(Ht({error:e})))))));loadEnumValue$=w(()=>this.actions$?.pipe(A(Gt),k(({id:e})=>this.enumValueService.getEnumValue(e).pipe(T(t=>Wt({enumValue:t})),R(t=>M(Xt({error:t})))))));loadEnumValuesByField$=w(()=>this.actions$?.pipe(A(Yt),k(({fieldId:e})=>this.enumValueService.getEnumValuesByField(e).pipe(T(t=>Zt({enumValues:t})),R(t=>M(Jt({error:t})))))));createEnumValue$=w(()=>this.actions$?.pipe(A(io),U(({enumValue:e})=>this.enumValueService.createEnumValue(e).pipe(T(t=>ei({enumValue:t})),R(t=>M(ti({error:t})))))));updateEnumValue$=w(()=>this.actions$?.pipe(A(ro),U(({enumValue:e})=>this.enumValueService.updateEnumValue(e).pipe(T(()=>ii({enumValue:e})),R(t=>M(ri({error:t})))))));deleteEnumValue$=w(()=>this.actions$?.pipe(A(so),U(({id:e})=>this.enumValueService.deleteEnumValue(e).pipe(T(()=>si({id:e})),R(t=>M(ni({error:t})))))));searchEnumValues$=w(()=>this.actions$?.pipe(A(no),k(({term:e})=>this.enumValueService.searchEnumValues(e).pipe(T(t=>oi({enumValues:t})),R(t=>M(ai({error:t})))))));static \u0275fac=function(t){return new(t||i)(b(ae),b(De))};static \u0275prov=j({token:i,factory:i.\u0275fac})};var eu={enumValues:[],currentEnumValue:null,fieldEnumValues:[],loading:!1,error:null},wa=ne(eu,p(qt,i=>f(u({},i),{loading:!0})),p(Qt,(i,{enumValues:e})=>f(u({},i),{enumValues:e,loading:!1,error:null})),p(Ht,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Gt,i=>f(u({},i),{loading:!0})),p(Wt,(i,{enumValue:e})=>f(u({},i),{currentEnumValue:e,loading:!1,error:null})),p(Xt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Yt,i=>f(u({},i),{loading:!0})),p(Zt,(i,{enumValues:e})=>f(u({},i),{fieldEnumValues:e,loading:!1,error:null})),p(Jt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(ei,(i,{enumValue:e})=>f(u({},i),{enumValues:[...i.enumValues,e],fieldEnumValues:e.fieldId===i.fieldEnumValues[0]?.fieldId?[...i.fieldEnumValues,e]:i.fieldEnumValues,loading:!1,error:null})),p(ti,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(ii,(i,{enumValue:e})=>f(u({},i),{enumValues:i.enumValues.map(t=>t.id===e.id?e:t),fieldEnumValues:i.fieldEnumValues.map(t=>t.id===e.id?e:t),currentEnumValue:i.currentEnumValue?.id===e.id?e:i.currentEnumValue,loading:!1,error:null})),p(ri,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(si,(i,{id:e})=>f(u({},i),{enumValues:i.enumValues.filter(t=>t.id!==e),fieldEnumValues:i.fieldEnumValues.filter(t=>t.id!==e),currentEnumValue:i.currentEnumValue?.id===e?null:i.currentEnumValue,loading:!1,error:null})),p(ni,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(oi,(i,{enumValues:e})=>f(u({},i),{enumValues:e,loading:!1,error:null})),p(ai,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(oo,(i,{enumValue:e})=>f(u({},i),{enumValues:i.enumValues.some(t=>t.id===e.id)?i.enumValues.map(t=>t.id===e.id?e:t):[...i.enumValues,e],fieldEnumValues:i.fieldEnumValues.some(t=>t.fieldId===e.fieldId)?i.fieldEnumValues.some(t=>t.id===e.id)?i.fieldEnumValues.map(t=>t.id===e.id?e:t):[...i.fieldEnumValues,e]:i.fieldEnumValues,currentEnumValue:i.currentEnumValue?.id===e.id?e:i.currentEnumValue})),p(ao,(i,{id:e})=>f(u({},i),{enumValues:i.enumValues.filter(t=>t.id!==e),fieldEnumValues:i.fieldEnumValues.filter(t=>t.id!==e),currentEnumValue:i.currentEnumValue?.id===e?null:i.currentEnumValue})));var je=class i{constructor(e){this.http=e}apiUrl=`${oe.apiUrl}/api/fields`;getFields(){return this.http.get(this.apiUrl)}getField(e){return this.http.get(`${this.apiUrl}/${e}`)}getFieldsByMessage(e){return this.http.get(`${this.apiUrl}/message/${e}`)}getFieldsByParent(e){return this.http.get(`${this.apiUrl}/parent/${e}`)}createField(e){return this.http.post(this.apiUrl,e)}updateField(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}deleteField(e){return this.http.delete(`${this.apiUrl}/${e}`)}searchFields(e){return this.http.get(`${this.apiUrl}/search?term=${e}`)}exportField(e){return this.http.get(`${this.apiUrl}/${e}/export`)}static \u0275fac=function(t){return new(t||i)(b(fe))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var sr=class i{constructor(e,t){this.actions$=e;this.fieldService=t}loadFields$=w(()=>this.actions$?.pipe(A(li),k(()=>this.fieldService.getFields().pipe(T(e=>ci({fields:e})),R(e=>M(ui({error:e})))))));loadField$=w(()=>this.actions$?.pipe(A(di),k(({id:e})=>this.fieldService.getField(e).pipe(T(t=>fi({field:t})),R(t=>M(pi({error:t})))))));loadFieldsByMessage$=w(()=>this.actions$?.pipe(A(hi),k(({messageId:e})=>this.fieldService.getFieldsByMessage(e).pipe(T(t=>mi({fields:t})),R(t=>M(gi({error:t})))))));loadFieldsByParent$=w(()=>this.actions$?.pipe(A(yi),k(({parentFieldId:e})=>this.fieldService.getFieldsByParent(e).pipe(T(t=>Ei({fields:t})),R(t=>M(Si({error:t})))))));createField$=w(()=>this.actions$?.pipe(A(lo),U(({field:e})=>this.fieldService.createField(e).pipe(T(t=>vi({field:t})),R(t=>M(_i({error:t})))))));updateField$=w(()=>this.actions$?.pipe(A(co),U(({field:e})=>this.fieldService.updateField(e).pipe(T(()=>bi({field:e})),R(t=>M(Ti({error:t})))))));deleteField$=w(()=>this.actions$?.pipe(A(uo),U(({id:e})=>this.fieldService.deleteField(e).pipe(T(()=>Fi({id:e})),R(t=>M(Mi({error:t})))))));searchFields$=w(()=>this.actions$?.pipe(A(fo),k(({term:e})=>this.fieldService.searchFields(e).pipe(T(t=>Ri({fields:t})),R(t=>M(wi({error:t})))))));exportField$=w(()=>this.actions$?.pipe(A(po),k(({id:e})=>this.fieldService.exportField(e).pipe(T(t=>Ai({xml:t})),R(t=>M(Pi({error:t})))))));static \u0275fac=function(t){return new(t||i)(b(ae),b(je))};static \u0275prov=j({token:i,factory:i.\u0275fac})};var iu={fields:[],currentField:null,messageFields:[],childFields:[],loading:!1,error:null,exportedXml:null},Aa=ne(iu,p(li,i=>f(u({},i),{loading:!0})),p(ci,(i,{fields:e})=>f(u({},i),{fields:e,loading:!1,error:null})),p(ui,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(di,i=>f(u({},i),{loading:!0})),p(fi,(i,{field:e})=>f(u({},i),{currentField:e,loading:!1,error:null})),p(pi,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(hi,i=>f(u({},i),{loading:!0})),p(mi,(i,{fields:e})=>f(u({},i),{messageFields:e,loading:!1,error:null})),p(gi,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(yi,i=>f(u({},i),{loading:!0})),p(Ei,(i,{fields:e})=>f(u({},i),{childFields:e,loading:!1,error:null})),p(Si,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(vi,(i,{field:e})=>{let t=i.messageFields,r=i.childFields;return e.messageId?i.messageFields.length>0&&i.messageFields[0].messageId===e.messageId&&(t=[...i.messageFields,e]):e.parentFieldId&&i.childFields.length>0&&i.childFields[0].parentFieldId===e.parentFieldId&&(r=[...i.childFields,e]),f(u({},i),{fields:[...i.fields,e],messageFields:t,childFields:r,loading:!1,error:null})}),p(_i,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(bi,(i,{field:e})=>f(u({},i),{fields:i.fields.map(t=>t.id===e.id?e:t),messageFields:i.messageFields.map(t=>t.id===e.id?e:t),childFields:i.childFields.map(t=>t.id===e.id?e:t),currentField:i.currentField?.id===e.id?e:i.currentField,loading:!1,error:null})),p(Ti,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Fi,(i,{id:e})=>f(u({},i),{fields:i.fields.filter(t=>t.id!==e),messageFields:i.messageFields.filter(t=>t.id!==e),childFields:i.childFields.filter(t=>t.id!==e),currentField:i.currentField?.id===e?null:i.currentField,loading:!1,error:null})),p(Mi,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Ri,(i,{fields:e})=>f(u({},i),{fields:e,loading:!1,error:null})),p(wi,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Ai,(i,{xml:e})=>f(u({},i),{exportedXml:e,loading:!1,error:null})),p(Pi,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(ho,(i,{field:e})=>f(u({},i),{fields:i.fields.some(t=>t.id===e.id)?i.fields.map(t=>t.id===e.id?e:t):[...i.fields,e],messageFields:e.messageId&&i.messageFields.some(t=>t.messageId===e.messageId)?i.messageFields.some(t=>t.id===e.id)?i.messageFields.map(t=>t.id===e.id?e:t):[...i.messageFields,e]:i.messageFields,childFields:e.parentFieldId&&i.childFields.some(t=>t.parentFieldId===e.parentFieldId)?i.childFields.some(t=>t.id===e.id)?i.childFields.map(t=>t.id===e.id?e:t):[...i.childFields,e]:i.childFields,currentField:i.currentField?.id===e.id?e:i.currentField})),p(mo,(i,{id:e})=>f(u({},i),{fields:i.fields.filter(t=>t.id!==e),messageFields:i.messageFields.filter(t=>t.id!==e),childFields:i.childFields.filter(t=>t.id!==e),currentField:i.currentField?.id===e?null:i.currentField})));var nr=class i{constructor(e){this.http=e}apiUrl=`${oe.apiUrl}/api/messages`;getMessages(){return this.http.get(this.apiUrl)}getMessage(e){return this.http.get(`${this.apiUrl}/${e}`)}getMessagesByRoot(e){return this.http.get(`${this.apiUrl}/root/${e}`)}createMessage(e){return this.http.post(this.apiUrl,e)}updateMessage(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}deleteMessage(e){return this.http.delete(`${this.apiUrl}/${e}`)}searchMessages(e){return this.http.get(`${this.apiUrl}/search?term=${e}`)}exportMessage(e){return this.http.get(`${this.apiUrl}/${e}/export`)}static \u0275fac=function(t){return new(t||i)(b(fe))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var or=class i{constructor(e,t){this.actions$=e;this.messageService=t}loadMessages$=w(()=>this.actions$?.pipe(A(Rt),k(()=>this.messageService.getMessages().pipe(T(e=>wt({messages:e})),R(e=>M(At({error:e})))))));loadMessage$=w(()=>this.actions$?.pipe(A(Pt),k(({id:e})=>this.messageService.getMessage(e).pipe(T(t=>Ct({message:t})),R(t=>M(It({error:t})))))));loadMessagesByRoot$=w(()=>this.actions$?.pipe(A(Nt),k(({rootId:e})=>this.messageService.getMessagesByRoot(e).pipe(T(t=>Ot({messages:t})),R(t=>M(Dt({error:t})))))));createMessage$=w(()=>this.actions$?.pipe(A(Wn),U(({message:e})=>this.messageService.createMessage(e).pipe(T(t=>jt({message:t})),R(t=>M(kt({error:t})))))));updateMessage$=w(()=>this.actions$?.pipe(A(Xn),U(({message:e})=>this.messageService.updateMessage(e).pipe(T(()=>$t({message:e})),R(t=>M(Vt({error:t})))))));deleteMessage$=w(()=>this.actions$?.pipe(A(Yn),U(({id:e})=>this.messageService.deleteMessage(e).pipe(T(()=>xt({id:e})),R(t=>M(Lt({error:t})))))));searchMessages$=w(()=>this.actions$?.pipe(A(Zn),k(({term:e})=>this.messageService.searchMessages(e).pipe(T(t=>zt({messages:t})),R(t=>M(Bt({error:t})))))));exportMessage$=w(()=>this.actions$?.pipe(A(Jn),k(({id:e})=>this.messageService.exportMessage(e).pipe(T(t=>Ut({xml:t})),R(t=>M(Kt({error:t})))))));static \u0275fac=function(t){return new(t||i)(b(ae),b(nr))};static \u0275prov=j({token:i,factory:i.\u0275fac})};var su={messages:[],currentMessage:null,rootMessages:[],loading:!1,error:null,exportedXml:null},Pa=ne(su,p(Rt,i=>f(u({},i),{loading:!0})),p(wt,(i,{messages:e})=>f(u({},i),{messages:e,loading:!1,error:null})),p(At,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Pt,i=>f(u({},i),{loading:!0})),p(Ct,(i,{message:e})=>f(u({},i),{currentMessage:e,loading:!1,error:null})),p(It,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Nt,i=>f(u({},i),{loading:!0})),p(Ot,(i,{messages:e})=>f(u({},i),{rootMessages:e,loading:!1,error:null})),p(Dt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(jt,(i,{message:e})=>f(u({},i),{messages:[...i.messages,e],rootMessages:e.rootId===i.rootMessages[0]?.rootId?[...i.rootMessages,e]:i.rootMessages,loading:!1,error:null})),p(kt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p($t,(i,{message:e})=>f(u({},i),{messages:i.messages.map(t=>t.id===e.id?e:t),rootMessages:i.rootMessages.map(t=>t.id===e.id?e:t),currentMessage:i.currentMessage?.id===e.id?e:i.currentMessage,loading:!1,error:null})),p(Vt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(xt,(i,{id:e})=>f(u({},i),{messages:i.messages.filter(t=>t.id!==e),rootMessages:i.rootMessages.filter(t=>t.id!==e),currentMessage:i.currentMessage?.id===e?null:i.currentMessage,loading:!1,error:null})),p(Lt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(zt,(i,{messages:e})=>f(u({},i),{messages:e,loading:!1,error:null})),p(Bt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Ut,(i,{xml:e})=>f(u({},i),{exportedXml:e,loading:!1,error:null})),p(Kt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(eo,(i,{message:e})=>f(u({},i),{messages:i.messages.some(t=>t.id===e.id)?i.messages.map(t=>t.id===e.id?e:t):[...i.messages,e],rootMessages:i.rootMessages.some(t=>t.rootId===e.rootId)?i.rootMessages.some(t=>t.id===e.id)?i.rootMessages.map(t=>t.id===e.id?e:t):[...i.rootMessages,e]:i.rootMessages,currentMessage:i.currentMessage?.id===e.id?e:i.currentMessage})),p(to,(i,{id:e})=>f(u({},i),{messages:i.messages.filter(t=>t.id!==e),rootMessages:i.rootMessages.filter(t=>t.id!==e),currentMessage:i.currentMessage?.id===e?null:i.currentMessage})));var nu={projects:[],currentProject:null,loading:!1,error:null,dummy:"moshe"},Ca=ne(nu,p(Mn,i=>(console.log("Reducer: loadProjects action received"),f(u({},i),{dummy:"david",loading:!0}))),p(st,(i,{projects:e})=>f(u({},i),{projects:e,loading:!1,error:null})),p(Rn,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(wn,i=>f(u({},i),{loading:!0})),p(An,(i,{project:e})=>f(u({},i),{currentProject:e,loading:!1,error:null})),p(Pn,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Cn,(i,{project:e})=>f(u({},i),{projects:[...i.projects,e],loading:!1,error:null})),p(In,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Nn,(i,{project:e})=>f(u({},i),{projects:i.projects.map(t=>t.id===e.id?e:t),currentProject:i.currentProject?.id===e.id?e:i.currentProject,loading:!1,error:null})),p(On,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Dn,(i,{id:e})=>f(u({},i),{projects:i.projects.filter(t=>t.id!==e),currentProject:i.currentProject?.id===e?null:i.currentProject,loading:!1,error:null})),p(jn,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(kn,(i,{projects:e})=>f(u({},i),{projects:e,loading:!1,error:null})),p($n,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Vn,(i,{project:e})=>f(u({},i),{projects:i.projects.some(t=>t.id===e.id)?i.projects.map(t=>t.id===e.id?e:t):[...i.projects,e],currentProject:i.currentProject?.id===e.id?e:i.currentProject})),p(xn,(i,{id:e})=>f(u({},i),{projects:i.projects.filter(t=>t.id!==e),currentProject:i.currentProject?.id===e?null:i.currentProject})));var ke=class i{constructor(e){this.http=e}apiUrl=`${oe.apiUrl}/api/roots`;getRoots(){return this.http.get(this.apiUrl)}getRoot(e){return this.http.get(`${this.apiUrl}/${e}`)}getRootsByProject(e){return this.http.get(`${this.apiUrl}/project/${e}`)}createRoot(e){return this.http.post(this.apiUrl,e)}updateRoot(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}deleteRoot(e){return this.http.delete(`${this.apiUrl}/${e}`)}searchRoots(e){return this.http.get(`${this.apiUrl}/search?term=${e}`)}exportRoot(e){return this.http.get(`${this.apiUrl}/${e}/export`)}exportAllRoots(e){return this.http.get(`${this.apiUrl}/export-all/${e}`)}static \u0275fac=function(t){return new(t||i)(b(fe))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var ar=class i{constructor(e,t){this.actions$=e;this.rootService=t}loadRoots$=w(()=>this.actions$.pipe(A(nt),k(()=>this.rootService.getRoots().pipe(T(e=>ot({roots:e})),R(e=>M(at({error:e})))))));loadRoot$=w(()=>this.actions$.pipe(A(lt),k(({id:e})=>this.rootService.getRoot(e).pipe(T(t=>ct({root:t})),R(t=>M(ut({error:t})))))));loadRootsByProject$=w(()=>this.actions$.pipe(A(dt),k(({projectId:e})=>this.rootService.getRootsByProject(e).pipe(T(t=>ft({roots:t})),R(t=>M(pt({error:t})))))));createRoot$=w(()=>this.actions$.pipe(A(zn),U(({root:e})=>this.rootService.createRoot(e).pipe(T(t=>ht({root:t})),R(t=>M(mt({error:t})))))));updateRoot$=w(()=>this.actions$.pipe(A(Bn),U(({root:e})=>this.rootService.updateRoot(e).pipe(T(()=>gt({root:e})),R(t=>M(yt({error:t})))))));deleteRoot$=w(()=>this.actions$.pipe(A(Un),U(({id:e})=>this.rootService.deleteRoot(e).pipe(T(()=>Et({id:e})),R(t=>M(St({error:t})))))));searchRoots$=w(()=>this.actions$.pipe(A(Kn),k(({term:e})=>this.rootService.searchRoots(e).pipe(T(t=>vt({roots:t})),R(t=>M(_t({error:t})))))));exportRoot$=w(()=>this.actions$.pipe(A(qn),k(({id:e})=>this.rootService.exportRoot(e).pipe(T(t=>bt({xml:t})),R(t=>M(Tt({error:t})))))));exportAllRoots$=w(()=>this.actions$.pipe(A(Qn),k(({projectId:e})=>this.rootService.exportAllRoots(e).pipe(T(t=>Ft({xml:t})),R(t=>M(Mt({error:t})))))));static \u0275fac=function(t){return new(t||i)(b(ae),b(ke))};static \u0275prov=j({token:i,factory:i.\u0275fac})};var au={roots:[],currentRoot:null,projectRoots:[],loading:!1,error:null,exportedXml:null},Ia=ne(au,p(nt,i=>f(u({},i),{loading:!0})),p(ot,(i,{roots:e})=>f(u({},i),{roots:e,loading:!1,error:null})),p(at,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(lt,i=>f(u({},i),{loading:!0})),p(ct,(i,{root:e})=>f(u({},i),{currentRoot:e,loading:!1,error:null})),p(ut,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(dt,i=>f(u({},i),{loading:!0})),p(ft,(i,{roots:e})=>f(u({},i),{projectRoots:e,loading:!1,error:null})),p(pt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(ht,(i,{root:e})=>f(u({},i),{roots:[...i.roots,e],projectRoots:e.projectId===i.projectRoots[0]?.projectId?[...i.projectRoots,e]:i.projectRoots,loading:!1,error:null})),p(mt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(gt,(i,{root:e})=>f(u({},i),{roots:i.roots.map(t=>t.id===e.id?e:t),projectRoots:i.projectRoots.map(t=>t.id===e.id?e:t),currentRoot:i.currentRoot?.id===e.id?e:i.currentRoot,loading:!1,error:null})),p(yt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Et,(i,{id:e})=>f(u({},i),{roots:i.roots.filter(t=>t.id!==e),projectRoots:i.projectRoots.filter(t=>t.id!==e),currentRoot:i.currentRoot?.id===e?null:i.currentRoot,loading:!1,error:null})),p(St,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(vt,(i,{roots:e})=>f(u({},i),{roots:e,loading:!1,error:null})),p(_t,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(bt,(i,{xml:e})=>f(u({},i),{exportedXml:e,loading:!1,error:null})),p(Tt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Ft,(i,{xml:e})=>f(u({},i),{exportedXml:e,loading:!1,error:null})),p(Mt,(i,{error:e})=>f(u({},i),{loading:!1,error:e})),p(Hn,(i,{root:e})=>f(u({},i),{roots:i.roots.some(t=>t.id===e.id)?i.roots.map(t=>t.id===e.id?e:t):[...i.roots,e],projectRoots:i.projectRoots.some(t=>t.projectId===e.projectId)?i.projectRoots.some(t=>t.id===e.id)?i.projectRoots.map(t=>t.id===e.id?e:t):[...i.projectRoots,e]:i.projectRoots,currentRoot:i.currentRoot?.id===e.id?e:i.currentRoot})),p(Gn,(i,{id:e})=>f(u({},i),{roots:i.roots.filter(t=>t.id!==e),projectRoots:i.projectRoots.filter(t=>t.id!==e),currentRoot:i.currentRoot?.id===e?null:i.currentRoot})));var Na={providers:[ke,De,je,et,rt,Gs({eventCoalescing:!0}),nn(Uo),Ys(),Ea(),Fn({router:Fa}),Ra(),Pe("projects",Ca),Pe("roots",Ia),Pe("messages",Pa),Pe("fields",Aa),Pe("enumValues",wa),Br({maxAge:25,logOnly:!xe()}),Ln,Ce,ar,or,sr,rr,vo(),Br({maxAge:25,logOnly:!xe(),autoPause:!0,trace:!1,traceLimit:75,connectInZone:!0}),cn({ripple:!0})]};oe.production&&void 0;Js(Ni,Na).catch(i=>console.error(i));
